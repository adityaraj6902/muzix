{"version":3,"sources":["js/toolbox/constants/animation.js","js/toolbox/constants/index.js","js/toolbox/constants/color.js","js/toolbox/components/icon/index.js","js/toolbox/components/button/index.js","js/toolbox/components/album_button/index.js","js/toolbox/components/playlist_button/index.js","js/toolbox/components/options_button/index.js","js/toolbox/components/title/index.js","js/toolbox/components/api/index.js","js/toolbox/components/file_input/index.js","js/components/welcome/index.js","js/views/actions.js","js/views/library/recently_played.js","js/views/library/index.js","js/api/actions.js","js/views/artist_list/index.js","js/views/artist/index.js","js/views/album_list/index.js","js/audio/actions.js","js/views/album/index.js","js/views/playlist_list/index.js","js/views/playlist/index.js","js/views/view_container.js","js/components/header/index.js","js/popups/components/header/index.js","js/popups/playlist_creator/index.js","js/popups/playlist_selector/index.js","js/popups/options/index.js","js/popups/index.js","js/components/bar/components/controls/mini_controls.js","js/components/bar/actions.js","js/components/bar/components/controls/track_info.js","js/components/bar/components/controls/track_buttons.js","js/components/bar/components/controls/volume_slider/index.js","js/components/bar/components/controls/scrubber.js","js/components/bar/components/controls/index.js","js/components/bar/components/controls/cover.js","js/components/bar/index.js","js/index.js","App.js","registerServiceWorker.js","js/views/reducer.js","js/api/reducer.js","js/audio/reducer.js","js/components/bar/reducer.js","js/rootReducer.js","index.js"],"names":["constants","color","blue","blueAlpha","green","greenAlpha","red","redAlpha","yellow","yellowAlpha","gray","grayAlpha","whiteAlpha","white","black","animation","fadeIn","keyframes","_templateObject","fadeOut","_templateObject2","scale","_templateObject3","scaleOut","_templateObject4","slideInFromBottom","_templateObject5","slideOutToBottom","_templateObject6","slideInFromRight","_templateObject7","slideOutToRight","_templateObject8","SvgContainer","styled","span","icon_templateObject","props","size","strokeWidth","Icon","react_default","a","createElement","className","onClick","dangerouslySetInnerHTML","__html","feather","icons","name","toSvg","width","height","stroke-width","defaultProps","Container","div","button_templateObject","TextContainer","button_templateObject2","theme","length","isPlaying","Label","h2","button_templateObject3","SubLabel","h4","button_templateObject4","OptionsContainer","button_templateObject5","ChevronContainer","button_templateObject6","Button","_ref","index","label","sublabel","showIndex","OptionsMenu","chevron","onOptionsClick","e","stopPropagation","components_icon","album_button_templateObject","ImgContainer","album_button_templateObject2","Placeholder","img","album_button_templateObject3","isHidden","Artwork","album_button_templateObject4","album_button_templateObject5","album_button_templateObject6","album_button_templateObject7","AlbumButton","state","loaded","onLoad","_this","setState","_this$props","this","artwork","album_button_Container","src","LazyLoad_default","album_button_TextContainer","album_button_Label","album_button_SubLabel","Component","playlist_button_templateObject","playlist_button_templateObject2","playlist_button_templateObject3","playlist_button_templateObject4","Title","h3","playlist_button_templateObject5","playlist_button_templateObject6","PlaylistButton","title","playlist_button_Container","playlist_button_ImgContainer","playlist_button_Artwork","playlist_button_TextContainer","playlist_button_Title","playlist_button_ChevronContainer","options_button_templateObject","center","hasImage","options_button_templateObject2","options_button_templateObject3","options_button_templateObject4","bold","OptionsButton","image","icon","options_button_Container","options_button_TextContainer","options_button_Label","options_button_Icon","concat","h1","title_templateObject","Api","ApiClass","Object","classCallCheck","makeRequest","url","data","Promise","resolve","reject","fetch","then","response","json","status","message","catch","Error","fetchArtists","method","fetchArtist","artist","fetchAlbums","fetchAlbum","_ref2","album","file_input_templateObject","Input","input","file_input_templateObject2","file_input_templateObject3","FileInput","possibleConstructorReturn","getPrototypeOf","call","base64Encode","reader","FileReader","readAsDataURL","onload","onUpload","result","onerror","error","console","log","sendImage","window","URL","createObjectURL","_this2","file_input_Container","file_input_Label","htmlFor","alt","draggable","id","accept","type","onChange","target","files","welcome_templateObject","isOpen","isClosing","LogoContainer","welcome_templateObject2","PartContainer","welcome_templateObject3","hidden","AppleLogo","welcome_templateObject4","MusicLogo","welcome_templateObject5","JsLogo","welcome_templateObject6","WelcomScreen","showMusic","showExtension","setTimeout","_this$state","welcome_Container","pushView","view","pushPopup","popup","recently_played_templateObject","Header","recently_played_templateObject2","ButtonContainer","recently_played_templateObject3","RecentlyPlayed","viewAlbum","hideTitle","recents","audioState","recently_played_Container","recently_played_Header","map","item","album_button","key","connect","dispatch","library_templateObject","library_templateObject2","LibraryView","changeView","library_Container","library_ButtonContainer","components_button","recently_played","viewState","albums","albumData","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","err","return","fetchPlaylists","playlists","localStorage","appleMusicPlaylists","JSON","parse","addToPlaylist","track","playlist","objectSpread","tracks","toConsumableArray","defineProperty","stringify","artist_list_templateObject","artist_list_templateObject2","ArtistListView","viewArtist","apiState","artists","artist_list_Container","artist_list_ButtonContainer","artistData","i","artist_templateObject","artist_templateObject2","ArtistView","_this$props2","artist_Container","artist_ButtonContainer","album_list_templateObject","album_list_templateObject2","AlbumListView","album_list_Container","album_list_ButtonContainer","playSong","addToQueue","updateTime","info","breakpointSm","album_templateObject","ArtworkContainer","album_templateObject2","album_templateObject3","album_templateObject4","album_templateObject5","MobileHeader","album_templateObject6","TitleContainer","album_templateObject7","album_templateObject8","Subtitle","_templateObject9","VisibleDesktop","_templateObject10","AlbumView","isLoaded","_ref3","setupOptionsMenu","options","onSelect","onArtworkLoaded","_apiState$data","currentIndex","currentTrack","album_Container","album_Placeholder","album_Artwork","album_Title","album_ButtonContainer","playlist_list_templateObject","playlist_list_templateObject2","PlaylistListView","viewPlaylist","newPlaylist","getPlaylistButtons","playlistButtons","_loop","_Object$entries","_i","slicedToArray","push","playlist_button","description","entries","playlist_list_Container","playlist_list_ButtonContainer","playlist_templateObject","playlist_templateObject2","playlist_templateObject3","playlist_templateObject4","playlist_templateObject5","playlist_templateObject6","playlist_templateObject7","playlist_templateObject8","ActionContainer","playlist_templateObject9","Svg","playlist_templateObject10","_templateObject11","PlaylistView","deletePlaylist","popView","setupTrackOptionsMenu","removeFromPlaylist","setupPlaylistOptionsMenu","_playlists$playlist$t","playlist_Container","playlist_MobileHeader","playlist_ArtworkContainer","playlist_Artwork","playlist_TitleContainer","playlist_Title","playlist_Subtitle","playlist_VisibleDesktop","playlist_ButtonContainer","nextProps","slice","view_container_templateObject","PageContainer","view_container_templateObject2","secondFromTop","becomingTop","exiting","mapStateToProps","ViewStack","stack","View","Views","ViewContainer","newStack","prevState","animateBack","view_container_Container","header_templateObject","header_templateObject2","isShown","isBackButton","header_templateObject3","isTitle","isLeaving","header_templateObject4","mapDispatchToProps","TitleStack","header_TitleContainer","header_Title","BackButton","showChevron","header_ChevronContainer","header_Container","components_header_templateObject","Section","components_header_templateObject2","left","right","components_header_Container","playlist_creator_templateObject","closing","playlist_creator_templateObject2","playlist_creator_templateObject3","playlist_creator_templateObject4","TitleInput","textarea","playlist_creator_templateObject5","DescriptionInput","playlist_creator_templateObject6","PlaylistCreator","handleImageUpload","createPlaylist","document","getElementById","popPopup","alert","playlist_creator_Container","components_header","playlist_creator_Button","playlist_creator_Title","playlist_creator_Section","file_input","placeholder","playlist_selector_templateObject","playlist_selector_templateObject2","playlist_selector_templateObject3","playlist_selector_templateObject4","PlaylistSelector","selectPlaylist","playlist_selector_Container","playlist_selector_Button","playlist_selector_Title","playlist_selector_ButtonContainer","options_templateObject","Cover","options_templateObject2","MenuContainer","options_templateObject3","options_templateObject4","handleClick","options_Container","options_Cover","options_Section","option","options_button","popups","Playlist Creator","playlist_creator","Playlist Selector","playlist_selector","Options","popups_options","popups_templateObject","PopupStack","popupStack","React","cloneElement","PopupContainer","animateClose","popups_Container","mini_controls_templateObject","isFullscreen","css","mini_controls_templateObject2","mini_controls_templateObject3","mini_controls_templateObject4","mini_controls_templateObject5","InfoContainer","mini_controls_templateObject6","SongTitle","mini_controls_templateObject7","mini_controls_templateObject8","mini_controls_templateObject9","MiniControls","resume","hasAudio","pause","nextSong","navState","queue","inQueue","mini_controls_Container","toggleFullscreen","mini_controls_ArtworkContainer","mini_controls_Artwork","mini_controls_ButtonContainer","mini_controls_Svg","track_info_templateObject","track_info_templateObject2","track_info_templateObject3","TrackInfo","track_info_Container","track_info_Title","track_info_Subtitle","track_buttons_templateObject","track_buttons_templateObject2","TrackButtons","prevSong","path","track_buttons_Container","track_buttons_Svg","volume_slider_templateObject","VolumeSlider","handleChange","val","changeVolume","volume","volume_slider_Container","lib_default","tooltip","scrubber_templateObject","isChanging","scrubber_templateObject2","TimeContainer","scrubber_templateObject3","Time","h5","scrubber_templateObject4","shift","formatTime","seconds","arguments","guide","s","Math","floor","m","h","gm","gh","isNaN","Infinity","Scrubber","time","current","max","startChange","endChange","transitioning","audio","currentTime","propTime","stateTime","range","round","scrubber_Container","onChangeStart","onChangeComplete","controls_templateObject","controls_templateObject2","CloseControls","controls_templateObject3","FullscreenControls","controls_templateObject4","hide","Controls","handlePlay","paused","clearInterval","playInterval","play","createTimeInterval","handleSliderChange","duration","setInterval","handlePause","_this3","controls_Container","controls_Svg","mini_controls","scrubber","track_info","track_buttons","volume_slider","ref","onEnded","cover_templateObject","animateClosed","cover_Container","OuterContainer","bar_templateObject","BottomBar","cover","controls","js_templateObject","MusicJS","js_Container","welcome_WelcomScreen","header","view_container","js_popups","bar","injectGlobal","App_templateObject","App","js_MusicJS","addEventListener","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","initialState","viewReducer","action","apiReducer","prevQueue","appleMusicRecents","audioReducer","filter","splice","newQueue","navReducer","rootReducer","combineReducers","store","createStore","devToolsEnhancer","applyMiddleware","thunkMiddleware","ReactDOM","render","es","src_App","process","origin","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.3179f723.chunk.js","sourcesContent":["import { keyframes } from 'styled-components';\r\n\r\nexport default {\r\n   fadeIn: keyframes`\r\n      0% {\r\n         opacity: 0;\r\n      }\r\n   `,\r\n\r\n   fadeOut: keyframes`\r\n      100% {\r\n         opacity: 0;\r\n      }\r\n   `,\r\n\r\n   scale: keyframes`\r\n      0% {\r\n         transform: scale(0);\r\n         opacity: 0;\r\n      }\r\n   `,\r\n\r\n   scaleOut: keyframes`\r\n      100% {\r\n         transform: scale(0);\r\n         opacity: 0;\r\n      }\r\n   `,\r\n\r\n   slideInFromBottom: keyframes`\r\n      0% {\r\n         transform: translateY(100vh);\r\n      }\r\n   `,\r\n\r\n   slideOutToBottom: keyframes`\r\n      100% {\r\n         transform: translateY(100vh);\r\n      }\r\n      `,\r\n\r\n   slideInFromRight: keyframes`\r\n      0% {\r\n         transform: translateX(100vw);\r\n      }\r\n   `,\r\n\r\n   slideOutToRight: keyframes`\r\n      100% {\r\n         transform: translateX(100vw);\r\n      }\r\n   `,\r\n};\r\n","/*\r\nimport borderRadius from './borderRadius';\r\nimport breakpoint from './breakpoint';\r\n*/\r\nimport color from './color';\r\nimport animation from './animation';\r\n/*\r\nimport fontSize from './fontSize';\r\nimport lineHeight from './lineHeight';\r\nimport shadows from './shadows';\r\nimport spacing from './spacing';\r\nimport transition from './transition';\r\n*/\r\n\r\nexport default {\r\n/*\r\n   borderRadius,\r\n   breakpoint,\r\n*/\r\n   color,\r\n   animation\r\n/*\r\n   fontSize,\r\n   lineHeight,\r\n   shadows,\r\n   spacing,\r\n   transition,\r\n*/\r\n};\r\n","export default {\r\n   blue: [\r\n      '#EBF4FB',\r\n      '#D6E8F7',\r\n      '#ADD2EF',\r\n      '#5CA4E0',\r\n      '#0071CE',\r\n      '#005091',\r\n      '#00325C',\r\n   ],\r\n   blueAlpha: [\r\n      'rgba(0, 113, 206, 0.08)',\r\n      'rgba(0, 113, 206, 0.16)',\r\n      'rgba(0, 113, 206, 0.32)',\r\n      'rgba(0, 113, 206, 0.64)',\r\n   ],\r\n   green: [\r\n      '#F2F9ED',\r\n      '#E4F3DC',\r\n      '#C9E7B9',\r\n      '#93D073',\r\n      '#57B524',\r\n      '#35820F',\r\n      '#195103',\r\n   ],\r\n   greenAlpha: [\r\n      'rgba(87, 181, 36, 0.08)',\r\n      'rgba(87, 181, 36, 0.16)',\r\n      'rgba(87, 181, 36, 0.32)',\r\n      'rgba(87, 181, 36, 0.64)',\r\n   ],\r\n   red: [\r\n      '#FDEEEC',\r\n      '#FBDED9',\r\n      '#F8BDB4',\r\n      '#F07B69',\r\n      '#f62a54',\r\n      '#A11601',\r\n      '#610B00',\r\n   ],\r\n   redAlpha: [\r\n      'rgba(232, 48, 20, 0.08)',\r\n      'rgba(232, 48, 20, 0.16)',\r\n      'rgba(232, 48, 20, 0.32)',\r\n      'rgba(232, 48, 20, 0.64)',\r\n   ],\r\n   yellow: [\r\n      '#FFFAEC',\r\n      '#FEF5D9',\r\n      '#FDECB3',\r\n      '#FBD966',\r\n      '#F9C310',\r\n      '#C27E00',\r\n      '#914400',\r\n   ],\r\n   yellowAlpha: [\r\n      'rgba(249, 195, 16, 0.08)',\r\n      'rgba(249, 195, 16, 0.16)',\r\n      'rgba(249, 195, 16, 0.32)',\r\n      'rgba(249, 195, 16, 0.64)',\r\n   ],\r\n   gray: [\r\n      '#FAFAFA',\r\n      '#F5F5F5',\r\n      '#EEEEEE',\r\n      '#E1E1E2',\r\n      '#BDBEBF',\r\n      '#9E9FA0',\r\n      '#757778',\r\n      '#636567',\r\n      '#424446',\r\n      '#212426',\r\n   ],\r\n   grayAlpha: [\r\n      'rgba(0, 3, 6, 0.02)',\r\n      'rgba(0, 3, 6, 0.04)',\r\n      'rgba(0, 3, 6, 0.07)',\r\n      'rgba(0, 3, 6, 0.12)',\r\n      'rgba(0, 3, 6, 0.26)',\r\n      'rgba(0, 3, 6, 0.38)',\r\n      'rgba(0, 3, 6, 0.54)',\r\n      'rgba(0, 3, 6, 0.61)',\r\n      'rgba(0, 3, 6, 0.74)',\r\n      'rgba(0, 3, 6, 0.87)',\r\n   ],\r\n   whiteAlpha: [\r\n      'rgba(255, 255, 255, 0.25)',\r\n      'rgba(255, 255, 255, 0.5)',\r\n      'rgba(255, 255, 255, 0.75)',\r\n      'rgba(255, 255, 255, 0.97)',\r\n   ],\r\n   white: '#FFFFFF',\r\n   black: '#000000',\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport feather from 'feather-icons';\r\n\r\nconst SvgContainer = styled.span`\r\n   display: inline-block;\r\n   width: ${props => props.size}px;\r\n   height: ${props => props.size}px;\r\n   color: ${props => props.color};\r\n   stroke-width: ${props => props.strokeWidth};\r\n`;\r\n\r\nconst Icon = props => (\r\n   <SvgContainer\r\n      className={props.className}\r\n      size={props.size}\r\n      onClick={props.onClick}\r\n      color={props.color}\r\n      strokeWidth={props.strokeWidth}\r\n      dangerouslySetInnerHTML={{\r\n         __html: feather.icons[props.name].toSvg({\r\n            width: '100%',\r\n            height: '100%',\r\n            'stroke-width': 'inherit',\r\n         }),\r\n      }}\r\n   />\r\n);\r\n\r\nIcon.propTypes = {\r\n   /** Icon name. See the complete list of icons at https://feathericons.com */\r\n   name: PropTypes.string.isRequired,\r\n   /** Set class name of containing element. */\r\n   className: PropTypes.string,\r\n   /** Any legal CSS color value for the stroke color */\r\n   color: PropTypes.string,\r\n   /** Width and height of the icon in pixels */\r\n   size: PropTypes.number,\r\n   /** Stroke width of the icon in pixels */\r\n   strokeWidth: PropTypes.number,\r\n};\r\n\r\nIcon.defaultProps = {\r\n   className: '',\r\n   color: 'currentColor',\r\n   size: 24,\r\n   strokeWidth: 2,\r\n};\r\n\r\nexport default Icon;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport constants from '../../constants';\r\nimport Icon from '../icon';\r\n\r\nconst { color } = constants;\r\n\r\nconst Container = styled.div`\r\n   display: flex;\r\n   min-height: 48px;\r\n   border-bottom: 1px solid ${color.gray[3]};\r\n   cursor: pointer;\r\n\r\n   :first-of-type {\r\n      border-top: 1px solid ${color.gray[3]};\r\n   }\r\n\r\n   &:active {\r\n      background: ${color.gray[2]};\r\n   }\r\n`;\r\n\r\nconst TextContainer = styled.div`\r\n   display: flex;\r\n   flex: 1;\r\n   flex-direction: column;\r\n   justify-content: center;\r\n   white-space: nowrap;\r\n   overflow: hidden;\r\n   text-overflow: ellipsis;\r\n\r\n   h2,\r\n   h4 {\r\n      font-weight: normal;\r\n      color: ${props =>\r\n         props.theme && props.theme.length\r\n            ? color[props.theme][4]\r\n            : color.black};\r\n      color: ${props => props.isPlaying && color.red[4]};\r\n      user-select: none;\r\n   }\r\n`;\r\n\r\nconst Label = styled.h2`\r\n   margin: 0;\r\n   font-size: 1.3rem;\r\n`;\r\n\r\nconst SubLabel = styled.h4`\r\n   margin: 0;\r\n`;\r\n\r\nconst OptionsContainer = styled.div`\r\n   height: 3em;\r\n   width: 3em;\r\n   display: flex;\r\n   justify-content: center;\r\n   align-items: center;\r\n`;\r\n\r\nconst ChevronContainer = styled.div`\r\n   height: 3em;\r\n   width: 3em;\r\n   display: flex;\r\n   justify-content: center;\r\n   align-items: center;\r\n\r\n   svg {\r\n      color: ${color.gray[4]};\r\n      height: 20px;\r\n      width: 20px;\r\n   }\r\n`;\r\n\r\nconst Button = ({\r\n   index,\r\n   theme,\r\n   label,\r\n   sublabel,\r\n   showIndex,\r\n   isPlaying,\r\n   OptionsMenu,\r\n   onClick,\r\n   chevron,\r\n   onOptionsClick,\r\n}) => {\r\n   const handleOptionsClick = e => {\r\n      e.stopPropagation();\r\n      onOptionsClick();\r\n   };\r\n\r\n   return (\r\n      <Container onClick={onClick}>\r\n         <TextContainer isPlaying={isPlaying} theme={theme}>\r\n            <Label>{label}</Label>\r\n            <SubLabel>{sublabel}</SubLabel>\r\n         </TextContainer>\r\n         {OptionsMenu && (\r\n            <OptionsContainer onClick={handleOptionsClick}>\r\n               <Icon name=\"more-horizontal\" />\r\n            </OptionsContainer>\r\n         )}\r\n         {chevron && (\r\n            <ChevronContainer>\r\n               <Icon name=\"chevron-right\" />\r\n            </ChevronContainer>\r\n         )}\r\n      </Container>\r\n   );\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport LazyLoad from 'react-lazy-load';\r\nimport constants from '../../constants';\r\n\r\nconst { color } = constants;\r\nconst breakpointSm = `@media screen and (max-width: 750px)`;\r\n\r\nconst Container = styled.div`\r\n   margin: 0 16px 16px;\r\n   width: 185px;\r\n   cursor: pointer;\r\n\r\n   ${breakpointSm} {\r\n      margin: 16px 16px 0 0;\r\n      width: auto;\r\n      flex: 0 44%;\r\n   }\r\n\r\n   &:active {\r\n      img {\r\n         filter: brightness(65%);\r\n      }\r\n   }\r\n`;\r\n\r\nconst ImgContainer = styled.div`\r\n   position: relative;\r\n   min-height: 185px;\r\n   margin-bottom: 16px;\r\n\r\n   ${breakpointSm} {\r\n      height: 42vw;\r\n      width: 42vw;\r\n      margin-bottom: 0;\r\n   }\r\n`;\r\n\r\nconst Placeholder = styled.img`\r\n   z-index: 1;\r\n   position: absolute;\r\n   top: 0;\r\n   max-width: 100%;\r\n   transition: all 0.3s;\r\n   opacity: ${props => (props.isHidden ? 0 : 1)};\r\n`;\r\n\r\nconst Artwork = styled.img`\r\n   position: absolute;\r\n   top: 0;\r\n   border-radius: 4px;\r\n   max-width: 100%;\r\n   pointer-events: none;\r\n   user-select: none;\r\n   animation: {animation.fadeIn} 0.15s;\r\n`;\r\n\r\nconst TextContainer = styled.div`\r\n   margin: 4px 0;\r\n`;\r\n\r\nconst Label = styled.h4`\r\n   font-weight: normal;\r\n   margin: 0 0 4px 0;\r\n   user-select: none;\r\n`;\r\n\r\nconst SubLabel = styled.h4`\r\n   color: ${color.gray[5]};\r\n   font-weight: normal;\r\n   margin: 0;\r\n   user-select: none;\r\n`;\r\n\r\nclass AlbumButton extends Component {\r\n   state = {\r\n      loaded: false,\r\n   };\r\n\r\n   onLoad = () => {\r\n      this.setState({ loaded: true });\r\n   };\r\n\r\n   render() {\r\n      const { label, sublabel, artwork, onClick } = this.props;\r\n      const { loaded } = this.state;\r\n\r\n      return (\r\n         <Container onClick={onClick}>\r\n            <ImgContainer>\r\n               <Placeholder\r\n                  src=\"images/default_artwork.svg\"\r\n                  isHidden={loaded}\r\n               />\r\n               <LazyLoad>\r\n                  <Artwork src={artwork} onLoad={this.onLoad} />\r\n               </LazyLoad>\r\n            </ImgContainer>\r\n            <TextContainer>\r\n               <Label>{label}</Label>\r\n               <SubLabel>{sublabel}</SubLabel>\r\n            </TextContainer>\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nexport default AlbumButton;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport constants from '../../constants';\r\nimport Icon from '../icon';\r\n\r\nconst { color } = constants;\r\n\r\nconst Container = styled.div`\r\n   display: flex;\r\n   height: 112px;\r\n   cursor: pointer;\r\n\r\n   &:active {\r\n      background: ${color.gray[2]};\r\n   }\r\n`;\r\n\r\nconst ImgContainer = styled.div`\r\n   position: relative;\r\n   display: flex;\r\n   justify-content: center;\r\n   align-items: center;\r\n   height: 104px;\r\n   width: 104px;\r\n   border-radius: 4px;\r\n   overflow: hidden;\r\n`;\r\n\r\nconst Artwork = styled.img`\r\n   height: 100%;\r\n   width: 100%;\r\n   pointer-events: none;\r\n   user-select: none;\r\n`;\r\n\r\nconst TextContainer = styled.div`\r\n   display: flex;\r\n   align-items: center;\r\n   flex: 1;\r\n   margin: 8px 0 4px 16px;\r\n   border-bottom: 1px solid ${color.gray[2]};\r\n`;\r\n\r\nconst Title = styled.h3`\r\n   font-weight: normal;\r\n   margin: 0;\r\n   user-select: none;\r\n   color: ${props => props.color ? color[props.color][4] : 'black'};\r\n`;\r\n\r\nconst ChevronContainer = styled.div`\r\n   height: 100%;\r\n   width: 3em;\r\n   display: flex;\r\n   justify-content: center;\r\n   align-items: center;\r\n\r\n   svg {\r\n      color: ${color.gray[4]};\r\n      height: 20px;\r\n      width: 20px;\r\n   }\r\n`;\r\n\r\nconst PlaylistButton = ({\r\n   title,\r\n   img,\r\n   color,\r\n   chevron,\r\n   onClick,\r\n}) => {\r\n   return (\r\n      <Container onClick={onClick}>\r\n         <ImgContainer>\r\n            <Artwork src={img} />\r\n         </ImgContainer>\r\n         <TextContainer>\r\n            <Title color={color}>{title}</Title>\r\n            </TextContainer>\r\n         {chevron && (\r\n            <ChevronContainer>\r\n               <Icon name=\"chevron-right\" />\r\n            </ChevronContainer>\r\n         )}\r\n      </Container>\r\n   );\r\n};\r\n\r\nexport default PlaylistButton;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport constants from '../../constants';\r\n\r\nconst { color } = constants;\r\n\r\nconst Container = styled.div`\r\n   display: flex;\r\n   justify-content: ${props => props.center && 'center'};\r\n   justify-content: ${props => props.hasImage && 'space-between'};\r\n   min-height: 64px;\r\n   border-bottom: 1px solid ${color.gray[3]};\r\n   padding: 0 16px;\r\n   cursor: pointer;\r\n\r\n   &:active {\r\n      background: ${color.gray[2]};\r\n   }\r\n`;\r\n\r\nconst TextContainer = styled.div`\r\n   display: flex;\r\n   align-items: center;\r\n`;\r\n\r\nconst Icon = styled.img`\r\n   height: 30px;\r\n   width: 40px;\r\n   margin: auto 0;\r\n`;\r\n\r\nconst Label = styled.h2`\r\n   margin: 0;\r\n   font-size: 1.3rem;\r\n   color: ${color.red[4]};\r\n   font-weight: ${props => props.bold ? 'bold' : 'normal'};\r\n`;\r\n\r\nconst OptionsButton = ({ label, icon, image, center, bold, onClick }) => {\r\n   return (\r\n      <Container hasImage={image} center={center} onClick={onClick}>\r\n         <TextContainer>\r\n            <Label bold={bold}>{label}</Label>\r\n         </TextContainer>\r\n         {image && <Icon src={`images/${image}`} />}\r\n      </Container>\r\n   );\r\n};\r\n\r\nexport default OptionsButton;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Text = styled.h1`\r\n   font-size: 32px;\r\n   margin: 8px 0;\r\n`;\r\n\r\nconst Title = ({ label }) => {\r\n   return <Text>{label}</Text>\r\n}\r\n\r\nexport default Title;\r\n","class ApiClass {\r\n  constructor() {\r\n    this.url = `https://57c62f9e.ngrok.io/api`;\r\n  }\r\n\r\n  makeRequest = ({ url, data }) => {\r\n    return new Promise(function(resolve, reject) {\r\n      fetch(url, data)\r\n        .then(response => {\r\n          response.json().then(data => {\r\n            if (response.status >= 300) {\r\n              reject(data.message);\r\n            }\r\n            resolve(data);\r\n          });\r\n        })\r\n        .catch(e => {\r\n          reject(Error(e));\r\n        });\r\n    });\r\n  };\r\n\r\n  fetchArtists = () => {\r\n    return this.makeRequest({\r\n      url: `${this.url}/artists`,\r\n      data: {\r\n        method: \"GET\"\r\n      }\r\n    });\r\n  };\r\n\r\n  fetchArtist = artist => {\r\n    return this.makeRequest({\r\n      url: `${this.url}/artist/${artist}`,\r\n      data: {\r\n        method: \"GET\"\r\n      }\r\n    });\r\n  };\r\n\r\n  fetchAlbums = () => {\r\n    return this.makeRequest({\r\n      url: `${this.url}/albums`,\r\n      data: {\r\n        method: \"GET\"\r\n      }\r\n    });\r\n  };\r\n\r\n  fetchAlbum = ({ album }) => {\r\n    return this.makeRequest({\r\n      url: `${this.url}/album/${album}`,\r\n      data: {\r\n        method: \"GET\"\r\n      }\r\n    });\r\n  };\r\n}\r\n\r\nconst Api = new ApiClass();\r\nexport default Api;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Container = styled.div`\r\n   display: flex;\r\n   height: 150px;\r\n   width: 150px;\r\n   justify-content: center;\r\n   align-items: center;\r\n   overflow: hidden;\r\n   border-radius: 4px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n   display: none;\r\n`;\r\n\r\nconst Label = styled.label`\r\n   height: 100%;\r\n   width: 100%;\r\n   position: relative;\r\n   cursor: pointer;\r\n\r\n   img {\r\n      max-height: 100%;\r\n   }\r\n\r\n   &:active {\r\n      filter: brightness(0.95);\r\n   }\r\n`;\r\n\r\nclass FileInput extends Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n         img: props.img,\r\n      };\r\n   }\r\n\r\n   base64Encode = img => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(img);\r\n      reader.onload = () => this.props.onUpload(reader.result);\r\n      reader.onerror = function(error) {\r\n         console.log('Error: ', error);\r\n      };\r\n   };\r\n\r\n   sendImage = img => {\r\n      this.base64Encode(img);\r\n      this.setState({ img: window.URL.createObjectURL(img) });\r\n   };\r\n\r\n   render() {\r\n      const { img } = this.state;\r\n\r\n      return (\r\n         <Container>\r\n            <Label htmlFor=\"media-uploader\">\r\n               <img alt=\"Upload\" draggable=\"false\" src={img} />\r\n            </Label>\r\n            <Input\r\n               id=\"media-uploader\"\r\n               accept=\"image/x-png,image/gif,image/jpeg\"\r\n               type=\"file\"\r\n               onChange={e => this.sendImage(e.target.files[0])}\r\n            />\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nexport default FileInput;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { constants } from '../../toolbox';\r\n\r\nconst { animation } = constants;\r\nconst breakpointSm = `@media screen and (max-width: 700px)`;\r\n\r\nconst Container = styled.div`\r\n   z-index: 200;\r\n   position: fixed;\r\n   display: ${props => props.isOpen ? 'flex' : 'none'};\r\n   justify-content: center;\r\n   align-items: center;\r\n   top: 0;\r\n   bottom: 0;\r\n   left: 0;\r\n   right: 0;\r\n   background: white;\r\n   animation: ${props => props.isClosing ? animation.fadeOut : null} 0.3s;\r\n`;\r\n\r\nconst LogoContainer = styled.div`\r\n   position: relative;\r\n   display: flex;\r\n   width: ${props => props.width};\r\n   height: 3.5rem;\r\n   padding-bottom: 1vh;\r\n   overflow: hidden;\r\n   transition: all 0.5s;\r\n   animation: ${props => props.isClosing ? animation.scaleOut : animation.scale} 0.3s ease;\r\n\r\n   ${breakpointSm} {\r\n      height: 2rem;\r\n      width: ${props => props.width === '18rem' && '10rem'};\r\n   }\r\n`;\r\n\r\nconst PartContainer = styled.div`\r\n   position: relative;\r\n   display: ${props => props.hidden ? 'none' : 'flex'};\r\n   align-items: flex-end;\r\n   height: 100%;\r\n   background: white;\r\n`;\r\n\r\nconst AppleLogo = styled.img`\r\n   height: 100%;\r\n`;\r\n\r\nconst MusicLogo = styled.img`\r\n   width: 11rem;\r\n   margin-left: 20px;\r\n\r\n   ${breakpointSm} {\r\n      width: 6rem;\r\n      margin-left: 10px;\r\n   }\r\n`;\r\n\r\nconst JsLogo = styled.img`\r\n   position: absolute;\r\n   width: 2.25rem;\r\n   top: 20px;\r\n   animation: ${animation.scale} 0.3s ease;\r\n\r\n   ${breakpointSm} {\r\n      width: 1.5rem;\r\n      top: 10px;\r\n   }\r\n`;\r\n\r\nexport default class WelcomScreen extends Component {\r\n   state = {\r\n      isOpen: true,\r\n      isClosing: false,\r\n      width: '4rem',\r\n      showMusic: false,\r\n      showExtension: false,\r\n   }\r\n\r\n   componentDidMount() {\r\n      setTimeout(() => {\r\n         this.setState({\r\n            showMusic: true,\r\n            width: '18rem'\r\n         });\r\n      }, 300);\r\n      setTimeout(() => {\r\n         this.setState({\r\n            showExtension: true\r\n         });\r\n      }, 800);\r\n      setTimeout(() => {\r\n         this.setState({ isClosing: true });\r\n      }, 1700);\r\n      setTimeout(() => {\r\n         this.setState({\r\n            isClosing: false,\r\n            isOpen: false,\r\n         });\r\n      }, 2000);\r\n   }\r\n\r\n   render() {\r\n      const { isOpen, isClosing } = this.state;\r\n\r\n      return (\r\n         <Container isOpen={isOpen || isClosing} isClosing={isClosing}>\r\n            <LogoContainer width={this.state.width} isClosing={isClosing}>\r\n               <PartContainer>\r\n                  <AppleLogo src=\"images/logo_apple.svg\" />\r\n               </PartContainer>\r\n               <PartContainer hidden={!this.state.showMusic}>\r\n                  <MusicLogo src=\"images/logo_music.svg\" />\r\n               </PartContainer>\r\n               <PartContainer hidden={!this.state.showExtension}>\r\n                  <JsLogo src=\"images/logo_js.svg\" />\r\n               </PartContainer>\r\n            </LogoContainer>\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n","export const pushView = view => ({ type: 'PUSH_VIEW', view });\r\nexport const popView = () => ({ type: 'POP_VIEW' });\r\nexport const pushPopup = popup => ({ type: 'PUSH_POPUP', popup });\r\nexport const popPopup = () => ({ type: 'POP_POPUP' });\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { pushView } from '../actions';\r\nimport { AlbumButton } from '../../toolbox';\r\n\r\nconst Container = styled.div`\r\n   margin-top: 24px;\r\n`;\r\n\r\nconst Header = styled.h3`\r\n   margin: 8px 0;\r\n   font-size: 21px;\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n   display: flex;\r\n   flex-wrap: wrap;\r\n   margin-top: 16px;\r\n\r\n   div {\r\n      margin-left: 0;\r\n   }\r\n`;\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      audioState: state.audioState,\r\n   };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n   return {\r\n      pushView: view => dispatch(pushView(view)),\r\n   };\r\n};\r\n\r\nclass RecentlyPlayed extends Component {\r\n   viewAlbum = ({ artist, album }) => {\r\n      this.props.pushView({\r\n         name: 'Album',\r\n         title: album,\r\n         props: {\r\n            hideTitle: true,\r\n            artist,\r\n            album\r\n         }\r\n      });\r\n   }\r\n\r\n   render() {\r\n      const { audioState } = this.props;\r\n      const { recents } = audioState;\r\n\r\n      return (\r\n         <Container>\r\n            <Header>Recently Played</Header>\r\n            <ButtonContainer>\r\n               {recents &&\r\n                  recents.map((item, index) => {\r\n                     const { album, artist, artwork } = item;\r\n                     const url = `https://tannerv.ddns.net/SpotiFree/${artwork}`;\r\n\r\n                     return (\r\n                        <AlbumButton\r\n                           key={album}\r\n                           label={album}\r\n                           sublabel={artist}\r\n                           artwork={url}\r\n                           onClick={() => this.viewAlbum({ artist, album })}\r\n                        />\r\n                     );\r\n                  })}\r\n            </ButtonContainer>\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RecentlyPlayed);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { pushView } from '../actions';\r\nimport { Button } from '../../toolbox';\r\nimport RecentlyPlayed from './recently_played';\r\n\r\nconst Container = styled.div`\r\n   margin-top: 48px;\r\n`;\r\n\r\nconst ButtonContainer = styled.div``;\r\n\r\nclass LibraryView extends Component {\r\n   changeView = name => {\r\n      this.props.pushView({\r\n         name,\r\n         props: {}\r\n      });\r\n   }\r\n\r\n   render() {\r\n      return (\r\n         <Container>\r\n            <ButtonContainer>\r\n               <Button\r\n                  label=\"Artists\"\r\n                  theme=\"red\"\r\n                  chevron\r\n                  onClick={() => this.changeView('Artists')}\r\n               />\r\n               <Button\r\n                  label=\"Albums\"\r\n                  theme=\"red\"\r\n                  chevron\r\n                  onClick={() => this.changeView('Albums')}\r\n               />\r\n               <Button\r\n                  label=\"Playlists\"\r\n                  theme=\"red\"\r\n                  chevron\r\n                  onClick={() => this.changeView('Playlists')}\r\n               />\r\n            </ButtonContainer>\r\n            <RecentlyPlayed />\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      viewState: state.viewState,\r\n   };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n   return {\r\n      pushView: view => dispatch(pushView(view)),\r\n   }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LibraryView);\r\n","import { Api } from '../toolbox';\r\n\r\nexport const fetchArtists = () => {\r\n   return dispatch => {\r\n      return Api.fetchArtists()\r\n         .then(artists => {\r\n            // The albums of each artist\r\n            const artistData = {};\r\n\r\n            for (let i in artists) {\r\n               const artist = artists[i].artist;\r\n               artistData[artist] = [];\r\n            }\r\n\r\n            dispatch({\r\n               type: 'FETCH_ARTIST_LIST_SUCCESS',\r\n               artists,\r\n               artistData,\r\n            });\r\n         })\r\n         .catch(error => {\r\n            console.log(error);\r\n         });\r\n   };\r\n};\r\n\r\nexport const fetchArtist = artist => {\r\n   return dispatch => {\r\n      return Api.fetchArtist(artist)\r\n         .then(albums => {\r\n            const albumData = {};\r\n\r\n            for (let i in albums) {\r\n               const album = albums[i];\r\n               albumData[album.album] = [];\r\n            }\r\n\r\n            dispatch({\r\n               type: 'FETCH_ARTIST_SUCCESS',\r\n               name: artist,\r\n               albums,\r\n               albumData,\r\n            });\r\n         })\r\n         .catch(error => {\r\n            console.log(error);\r\n         });\r\n   };\r\n};\r\n\r\nexport const fetchAlbums = () => {\r\n   return dispatch => {\r\n      return Api.fetchAlbums()\r\n         .then(albums => {\r\n            const albumData = {};\r\n\r\n            for (let album of albums) {\r\n               const name = album.album;\r\n               albumData[name] = [];\r\n            }\r\n\r\n            dispatch({\r\n               type: 'FETCH_ALBUM_LIST_SUCCESS',\r\n               albumData,\r\n               albums,\r\n            });\r\n         })\r\n         .catch(error => {\r\n            console.log(error);\r\n         });\r\n   };\r\n};\r\n\r\nexport const fetchAlbum = ({ artist, album }) => {\r\n   return dispatch => {\r\n      return Api.fetchAlbum({ artist, album })\r\n         .then(tracks => {\r\n            dispatch({\r\n               type: 'FETCH_ALBUM_SUCCESS',\r\n               album,\r\n               tracks,\r\n            });\r\n         })\r\n         .catch(error => {\r\n            console.log(error);\r\n         });\r\n   };\r\n};\r\n\r\nexport const fetchPlaylists = () => {\r\n   return dispatch => {\r\n      const playlists = localStorage.appleMusicPlaylists;\r\n\r\n      dispatch({\r\n         type: 'FETCH_PLAYLIST_LIST_SUCCESS',\r\n         playlists: playlists ? JSON.parse(playlists) : [],\r\n      });\r\n   };\r\n};\r\n\r\nexport const createPlaylist = playlist => {\r\n   return dispatch => {\r\n      let playlists = localStorage.appleMusicPlaylists\r\n         ? JSON.parse(localStorage.appleMusicPlaylists)\r\n         : {};\r\n\r\n      playlists[playlist.title] = playlist;\r\n      localStorage.appleMusicPlaylists = JSON.stringify(playlists);\r\n\r\n      dispatch({\r\n         type: 'CREATE_PLAYLIST',\r\n         playlists,\r\n      });\r\n   };\r\n};\r\n\r\nexport const addToPlaylist = (track, playlist) => {\r\n   return dispatch => {\r\n      let playlists = localStorage.appleMusicPlaylists;\r\n      playlists = playlists ? JSON.parse(playlists) : playlists;\r\n\r\n      // Add track to playlist\r\n      playlist = {\r\n         ...playlist,\r\n         tracks: [...playlist.tracks, track],\r\n      };\r\n\r\n      // Update playlist in playlist list\r\n      playlists = {\r\n         ...playlists,\r\n         [playlist.title]: playlist,\r\n      };\r\n\r\n      localStorage.appleMusicPlaylists = JSON.stringify(playlists);\r\n\r\n      dispatch({\r\n         type: 'UPDATE_PLAYLIST',\r\n         playlists,\r\n      });\r\n   };\r\n};\r\n\r\nexport const removeFromPlaylist = (index, playlist) => {\r\n   return dispatch => {\r\n      let playlists = localStorage.appleMusicPlaylists;\r\n      playlists = playlists ? JSON.parse(playlists) : playlists;\r\n\r\n      playlist = {\r\n         ...playlist,\r\n         tracks: [\r\n            ...playlist.tracks.slice(0, index),\r\n            ...playlist.tracks.slice(index + 1),\r\n         ],\r\n      };\r\n\r\n      // Update playlist in playlist list\r\n      playlists = {\r\n         ...playlists,\r\n         [playlist.title]: playlist,\r\n      };\r\n\r\n      localStorage.appleMusicPlaylists = JSON.stringify(playlists);\r\n\r\n      dispatch({\r\n         type: 'UPDATE_PLAYLIST',\r\n         playlists,\r\n      });\r\n   };\r\n};\r\n\r\nexport const deletePlaylist = playlist => {\r\n   return dispatch => {\r\n      let playlists = localStorage.appleMusicPlaylists;\r\n      playlists = playlists ? JSON.parse(playlists) : playlists;\r\n\r\n      delete playlists[playlist.title];\r\n\r\n      localStorage.appleMusicPlaylists = JSON.stringify(playlists);\r\n\r\n      dispatch({\r\n         type: 'UPDATE_PLAYLIST',\r\n         playlists,\r\n      });\r\n   };\r\n};\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { fetchArtists } from '../../api/actions';\r\nimport { pushView } from '../actions';\r\nimport { Button } from '../../toolbox';\r\n\r\nconst Container = styled.div`\r\n   margin-top: 48px;\r\n`;\r\n\r\nconst ButtonContainer = styled.div``;\r\n\r\nclass ArtistListView extends Component {\r\n   viewArtist = artist => {\r\n      this.props.pushView({\r\n         name: 'Artist',\r\n         title: artist,\r\n         props: {\r\n            artist\r\n         }\r\n      });\r\n   }\r\n\r\n   componentDidMount() {\r\n      if (!this.props.apiState.data.artists.length) {\r\n         this.props.fetchArtists();\r\n      }\r\n   }\r\n\r\n   render() {\r\n      const { artists } = this.props.apiState.data;\r\n\r\n      return (\r\n         <Container>\r\n            <ButtonContainer>\r\n               {artists &&\r\n                  artists.map((artist, index) => (\r\n                     <Button\r\n                        key={artist.artist}\r\n                        label={artist.artist}\r\n                        chevron\r\n                        onClick={() => this.viewArtist(artist.artist)}\r\n                     />\r\n                  ))}\r\n            </ButtonContainer>\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      viewState: state.viewState,\r\n      apiState: state.apiState,\r\n   };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n   return {\r\n      pushView: view => dispatch(pushView(view)),\r\n      fetchArtists: () => dispatch(fetchArtists()),\r\n   };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ArtistListView);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { fetchArtist } from '../../api/actions';\r\nimport { pushView } from '../actions';\r\nimport { AlbumButton, constants } from '../../toolbox';\r\n\r\nconst { color } = constants;\r\n\r\nconst Container = styled.div`\r\n   margin-top: 48px;\r\n   border-top: 1px solid ${color.gray[2]};\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n   display: flex;\r\n   flex-wrap: wrap;\r\n   margin-top: 16px;\r\n`;\r\n\r\nclass ArtistView extends Component {\r\n   viewAlbum = ({ artist, album }) => {\r\n      this.props.pushView({\r\n         name: 'Album',\r\n         title: album,\r\n         props: {\r\n            hideTitle: true,\r\n            artist,\r\n            album\r\n         }\r\n      });\r\n   }\r\n\r\n   componentDidMount() {\r\n      const { artist, apiState } = this.props;\r\n      const { artistData } = apiState.data;\r\n\r\n      if (artistData[artist].length === 0) {\r\n         this.props.fetchArtist(artist);\r\n      }\r\n   }\r\n\r\n   render() {\r\n      const { artist, apiState } = this.props;\r\n      const { artistData } = apiState.data;\r\n      const albums = artistData[artist];\r\n\r\n      return (\r\n         <Container>\r\n            <ButtonContainer>\r\n               {albums &&\r\n                  albums.map((item, index) => {\r\n                     const { album, artist, artwork } = item;\r\n                     const url = `https://tannerv.ddns.net/SpotiFree/${artwork}`;\r\n\r\n                     return (\r\n                        <AlbumButton\r\n                           key={album}\r\n                           label={album}\r\n                           sublabel={artist}\r\n                           artwork={url}\r\n                           onClick={() => this.viewAlbum({ artist, album })}\r\n                        />\r\n                     );\r\n                  })}\r\n            </ButtonContainer>\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      viewState: state.viewState,\r\n      apiState: state.apiState,\r\n   };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n   return {\r\n      pushView: view => dispatch(pushView(view)),\r\n      fetchArtist: artist => dispatch(fetchArtist(artist)),\r\n   };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ArtistView);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { fetchAlbums } from '../../api/actions';\r\nimport { pushView } from '../actions';\r\nimport { AlbumButton, constants } from '../../toolbox';\r\n\r\nconst { color } = constants;\r\n\r\nconst Container = styled.div`\r\n   margin-top: 48px;\r\n   border-top: 1px solid ${color.gray[2]};\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n   display: flex;\r\n   flex-wrap: wrap;\r\n   margin-top: 16px;\r\n`;\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      viewState: state.viewState,\r\n      apiState: state.apiState,\r\n   };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n   return {\r\n      pushView: view => dispatch(pushView(view)),\r\n      fetchAlbums: () => dispatch(fetchAlbums()),\r\n   };\r\n};\r\n\r\nclass AlbumListView extends Component {\r\n   viewAlbum = ({ artist, album }) => {\r\n      this.props.pushView({\r\n         name: 'Album',\r\n         title: album,\r\n         props: {\r\n            hideTitle: true,\r\n            artist,\r\n            album\r\n         }\r\n      });\r\n   }\r\n\r\n   componentDidMount() {\r\n      const { apiState } = this.props;\r\n      const { albums } = apiState.data;\r\n\r\n      if (albums.length === 0) {\r\n         this.props.fetchAlbums();\r\n      }\r\n   }\r\n\r\n   render() {\r\n      const { apiState } = this.props;\r\n      const { albums } = apiState.data;\r\n\r\n      return (\r\n         <Container>\r\n            <ButtonContainer>\r\n               {albums &&\r\n                  albums.map((item, index) => {\r\n                     const { album, artist, artwork } = item;\r\n                     const url = `https://tannerv.ddns.net/SpotiFree/${artwork}`;\r\n\r\n                     return (\r\n                        <AlbumButton\r\n                           key={album}\r\n                           label={album}\r\n                           sublabel={artist}\r\n                           artwork={url}\r\n                           onClick={() => this.viewAlbum({ artist, album })}\r\n                        />\r\n                     );\r\n                  })}\r\n            </ButtonContainer>\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AlbumListView);\r\n","export const playSong = ({ playlist, index }) => {\r\n   return dispatch => {\r\n      dispatch({\r\n         type: 'PLAY_SONG',\r\n         playlist,\r\n         index,\r\n      });\r\n   };\r\n};\r\n\r\nexport const resume = () => ({ type: 'RESUME' });\r\nexport const pause = () => ({ type: 'PAUSE' });\r\nexport const nextSong = () => ({ type: 'NEXT_SONG' });\r\nexport const prevSong = () => ({ type: 'PREV_SONG' });\r\nexport const addToQueue = track => ({ type: 'ADD_TO_QUEUE', track });\r\nexport const changeVolume = volume => ({ type: 'CHANGE_VOLUME', volume });\r\nexport const updateTime = info => ({ type: 'UPDATE_TIME', info });\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { playSong, addToQueue } from '../../audio/actions';\r\nimport { fetchAlbums, fetchAlbum, addToPlaylist } from '../../api/actions';\r\nimport { pushView, pushPopup } from '../actions';\r\nimport { Button, constants } from '../../toolbox';\r\n\r\nconst { color } = constants;\r\nconst breakpointSm = `@media screen and (max-width: 750px)`;\r\n\r\nconst Container = styled.div`\r\n   display: flex;\r\n\r\n   ${breakpointSm} {\r\n      display: block;\r\n   }\r\n`;\r\n\r\nconst ArtworkContainer = styled.div`\r\n   position: relative;\r\n   height: 300px;\r\n   width: 300px;\r\n   margin-right: 32px;\r\n\r\n   ${breakpointSm} {\r\n      height: 36vw;\r\n      width: 36vw;\r\n      display: block;\r\n      margin-right: 8px;\r\n      max-height: 100%;\r\n   }\r\n`;\r\n\r\nconst Artwork = styled.img`\r\n   border: 1px solid ${color.gray[2]};\r\n   box-sizing: border-box;\r\n   border-radius: 6px;\r\n   pointer-events: none;\r\n   user-select: none;\r\n   max-height: 100%;\r\n`;\r\n\r\nconst Placeholder = styled.div`\r\n   z-index: 1;\r\n   position: absolute;\r\n   top: 0;\r\n   bottom: 0;\r\n   left: 0;\r\n   right: 0;\r\n   background: url('images/default_artwork.svg');\r\n   background-size: cover;\r\n   transition: all 0.3s;\r\n   opacity: ${props => (props.isHidden ? 0 : 1)};\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n   flex: 1;\r\n`;\r\n\r\nconst MobileHeader = styled.div`\r\n   position: relative;\r\n   display: flex;\r\n   height: 20vh;\r\n   margin-bottom: 16px;\r\n\r\n   @media screen and (min-width: 750px) {\r\n      display: none;\r\n   }\r\n`;\r\n\r\nconst TitleContainer = styled.div`\r\n   display: flex;\r\n   flex-direction: column;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n   margin: 0 0 8px;\r\n\r\n   ${breakpointSm} {\r\n      font-size: 3.5vh;\r\n   }\r\n`;\r\n\r\nconst Subtitle = styled.h2`\r\n   color: ${color.red[4]};\r\n   font-weight: normal;\r\n   margin: 0 0 16px 0;\r\n\r\n   ${breakpointSm} {\r\n      font-size: 3vh;\r\n   }\r\n`;\r\n\r\nconst VisibleDesktop = styled.div`\r\n   @media screen and (max-width: 750px) {\r\n      display: none;\r\n   }\r\n`;\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      viewState: state.viewState,\r\n      apiState: state.apiState,\r\n      audioState: state.audioState,\r\n   };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n   return {\r\n      pushView: view => dispatch(pushView(view)),\r\n      pushPopup: popup => dispatch(pushPopup(popup)),\r\n      playSong: ({ playlist, index }) =>\r\n         dispatch(playSong({ playlist, index })),\r\n      addToQueue: track => dispatch(addToQueue(track)),\r\n      addToPlaylist: (track, playlist) =>\r\n         dispatch(addToPlaylist(track, playlist)),\r\n      fetchAlbums: () => dispatch(fetchAlbums()),\r\n      fetchAlbum: ({ album }) => dispatch(fetchAlbum({ album })),\r\n   };\r\n};\r\n\r\nclass AlbumView extends Component {\r\n   state = {\r\n      isLoaded: false,\r\n   };\r\n\r\n   playSong = ({ playlist, index }) => {\r\n      this.props.playSong({ playlist, index });\r\n   };\r\n\r\n   setupOptionsMenu = track => {\r\n      this.props.pushPopup({\r\n         name: 'Options',\r\n         props: {\r\n            options: [\r\n               {\r\n                  label: 'Play Next',\r\n                  image: 'play_next.svg',\r\n                  onClick: () => this.props.addToQueue(track),\r\n               },\r\n               {\r\n                  label: 'Add to a Playlist',\r\n                  image: 'add_to_playlist.svg',\r\n                  onClick: () =>\r\n                     this.props.pushPopup({\r\n                        name: 'Playlist Selector',\r\n                        props: {\r\n                           onSelect: playlist =>\r\n                              this.props.addToPlaylist(track, playlist),\r\n                        },\r\n                     }),\r\n               },\r\n            ],\r\n         },\r\n      });\r\n   };\r\n\r\n   onArtworkLoaded = () => {\r\n      this.setState({ isLoaded: true });\r\n   };\r\n\r\n   componentDidMount() {\r\n      const { album, apiState } = this.props;\r\n      const { albums, albumData } = apiState.data;\r\n\r\n      if (albums.length === 0) {\r\n         this.props.fetchAlbums();\r\n         this.props.fetchAlbum({ album });\r\n      }\r\n\r\n      if (!albumData[album] || !albumData[album].length) {\r\n         this.props.fetchAlbum({ album });\r\n      }\r\n   }\r\n\r\n   render() {\r\n      const { album, apiState, audioState } = this.props;\r\n      const { playlist, currentIndex } = audioState;\r\n      const { albumData } = apiState.data;\r\n      const { isLoaded } = this.state;\r\n      const tracks = albumData[album];\r\n      const artwork = tracks ? tracks[0] && tracks[0].artwork : null;\r\n      const artist = tracks ? tracks[0] && tracks[0].artist : 'Loading';\r\n      const currentTrack = playlist.length && playlist[currentIndex];\r\n      const url = `https://tannerv.ddns.net/SpotiFree/${artwork}`;\r\n\r\n      return (\r\n         <Container>\r\n            <MobileHeader>\r\n               <ArtworkContainer>\r\n                  <Placeholder isHidden={isLoaded} />\r\n                  {artwork && <Artwork src={url} />}\r\n               </ArtworkContainer>\r\n               <TitleContainer>\r\n                  <Title>{album}</Title>\r\n                  <Subtitle>{artist}</Subtitle>\r\n               </TitleContainer>\r\n            </MobileHeader>\r\n            <VisibleDesktop>\r\n               <ArtworkContainer>\r\n                  <Placeholder isHidden={isLoaded} />\r\n                  {artwork && (\r\n                     <Artwork src={url} onLoad={this.onArtworkLoaded} />\r\n                  )}\r\n               </ArtworkContainer>\r\n            </VisibleDesktop>\r\n            <ButtonContainer>\r\n               <VisibleDesktop>\r\n                  <Title>{album}</Title>\r\n                  <Subtitle>{artist}</Subtitle>\r\n               </VisibleDesktop>\r\n               {tracks &&\r\n                  tracks.map((item, index) => {\r\n                     return (\r\n                        <Button\r\n                           key={item.name}\r\n                           label={item.name}\r\n                           isPlaying={\r\n                              currentTrack &&\r\n                              item.name === currentTrack.name &&\r\n                              item.album === currentTrack.album &&\r\n                              item.artist === currentTrack.artist\r\n                           }\r\n                           OptionsMenu={true}\r\n                           onOptionsClick={() => this.setupOptionsMenu(item)}\r\n                           onClick={() =>\r\n                              this.playSong({ playlist: tracks, index })\r\n                           }\r\n                        />\r\n                     );\r\n                  })}\r\n            </ButtonContainer>\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nexport default connect(\r\n   mapStateToProps,\r\n   mapDispatchToProps,\r\n)(AlbumView);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { fetchPlaylists } from '../../api/actions';\r\nimport { pushView, pushPopup } from '../actions';\r\nimport { PlaylistButton } from '../../toolbox';\r\n\r\nconst Container = styled.div`\r\n   margin-top: 48px;\r\n`;\r\n\r\nconst ButtonContainer = styled.div``;\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      viewState: state.viewState,\r\n      apiState: state.apiState,\r\n   };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n   return {\r\n      pushView: view => dispatch(pushView(view)),\r\n      pushPopup: popup => dispatch(pushPopup(popup)),\r\n      fetchPlaylists: () => dispatch(fetchPlaylists()),\r\n   };\r\n};\r\n\r\nclass PlaylistListView extends Component {\r\n   viewPlaylist = ({ playlist, index }) => {\r\n      this.props.pushView({\r\n         name: 'Playlist',\r\n         title: playlist.title,\r\n         props: {\r\n            hideTitle: true,\r\n            index,\r\n            playlist,\r\n         },\r\n      });\r\n   };\r\n\r\n   newPlaylist = () => {\r\n      this.props.pushPopup({\r\n         name: 'Playlist Creator',\r\n         props: {},\r\n      });\r\n   };\r\n\r\n   componentDidMount() {\r\n      this.props.fetchPlaylists();\r\n   }\r\n\r\n   getPlaylistButtons = () => {\r\n      const playlists = localStorage.appleMusicPlaylists\r\n         ? JSON.parse(localStorage.appleMusicPlaylists)\r\n         : {};\r\n      const playlistButtons = [];\r\n\r\n      for (let [key, playlist] of Object.entries(playlists)) {\r\n         playlistButtons.push(\r\n            <PlaylistButton\r\n               key={`${key}-${playlist.title}-${playlist.description}`}\r\n               title={playlist.title}\r\n               img={playlist.img || 'images/music.jpg'}\r\n               chevron\r\n               onClick={() => this.viewPlaylist({ playlist })}\r\n            />,\r\n         );\r\n      }\r\n      return playlistButtons;\r\n   };\r\n\r\n   render() {\r\n      return (\r\n         <Container>\r\n            <ButtonContainer>\r\n               <PlaylistButton\r\n                  key=\"new-playlist-button\"\r\n                  title=\"New Playlist...\"\r\n                  img=\"images/playlist_add.jpg\"\r\n                  color=\"red\"\r\n                  onClick={this.newPlaylist}\r\n               />\r\n               {this.getPlaylistButtons()}\r\n            </ButtonContainer>\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PlaylistListView);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { playSong, addToQueue } from '../../audio/actions';\r\nimport {\r\n   fetchPlaylists,\r\n   addToPlaylist,\r\n   removeFromPlaylist,\r\n   deletePlaylist,\r\n} from '../../api/actions';\r\nimport { pushView, popView, pushPopup } from '../actions';\r\nimport { Button, constants } from '../../toolbox';\r\n\r\nconst { color } = constants;\r\nconst breakpointSm = `@media screen and (max-width: 750px)`;\r\n\r\nconst Container = styled.div`\r\n   display: flex;\r\n\r\n   ${breakpointSm} {\r\n      display: block;\r\n   }\r\n`;\r\n\r\nconst ArtworkContainer = styled.div`\r\n   margin-right: 32px;\r\n\r\n   ${breakpointSm} {\r\n      display: block;\r\n      margin-right: 8px;\r\n      height: 100%;\r\n   }\r\n`;\r\n\r\nconst Artwork = styled.img`\r\n   border: 1px solid ${color.gray[2]};\r\n   border-radius: 6px;\r\n   pointer-events: none;\r\n   user-select: none;\r\n   max-height: 100%;\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n   flex: 1;\r\n   margin-top: 16px;\r\n`;\r\n\r\nconst MobileHeader = styled.div`\r\n   position: relative;\r\n   display: flex;\r\n   height: 20vh;\r\n   margin-bottom: 16px;\r\n\r\n   @media screen and (min-width: 750px) {\r\n      display: none;\r\n   }\r\n`;\r\n\r\nconst TitleContainer = styled.div`\r\n   display: flex;\r\n   flex-direction: column;\r\n   flex: 1;\r\n   margin-bottom: 16px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n   margin: 0 0 8px;\r\n\r\n   ${breakpointSm} {\r\n      font-size: 1.5rem;\r\n   }\r\n`;\r\n\r\nconst Subtitle = styled.h2`\r\n   color: ${color.red[4]};\r\n   font-weight: normal;\r\n   margin: 0 0 16px 0;\r\n\r\n   ${breakpointSm} {\r\n      font-size: 1.25rem;\r\n   }\r\n`;\r\n\r\nconst ActionContainer = styled.div`\r\n   flex: 1;\r\n   display: flex;\r\n   flex-direction: column;\r\n   justify-content: center;\r\n   align-items: flex-end;\r\n   padding: 0 9px;\r\n\r\n   svg, img {\r\n      cursor: pointer;\r\n   }\r\n`;\r\n\r\nconst Svg = styled.img`\r\n   height: ${props => props.size || 30}px;\r\n   width: ${props => props.size || 30}px;\r\n`;\r\n\r\nconst VisibleDesktop = styled.div`\r\n   @media screen and (max-width: 750px) {\r\n      display: none;\r\n   }\r\n`;\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      viewState: state.viewState,\r\n      apiState: state.apiState,\r\n      audioState: state.audioState,\r\n   };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n   return {\r\n      pushView: view => dispatch(pushView(view)),\r\n      popView: () => dispatch(popView()),\r\n      playSong: ({ playlist, index }) =>\r\n         dispatch(playSong({ playlist, index })),\r\n      addToPlaylist: (track, playlist) =>\r\n         dispatch(addToPlaylist(track, playlist)),\r\n      addToQueue: track => dispatch(addToQueue(track)),\r\n      pushPopup: popup => dispatch(pushPopup(popup)),\r\n      removeFromPlaylist: (track, index) =>\r\n         dispatch(removeFromPlaylist(track, index)),\r\n      deletePlaylist: playlist => dispatch(deletePlaylist(playlist)),\r\n      fetchPlaylists: () => dispatch(fetchPlaylists()),\r\n   };\r\n};\r\n\r\nclass PlaylistView extends Component {\r\n   constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n         playlists: props.apiState.data.playlists,\r\n      };\r\n   }\r\n\r\n   static getDerivedStateFromProps(nextProps) {\r\n      const { playlists } = nextProps.apiState.data;\r\n\r\n      return {\r\n         playlists,\r\n      };\r\n   }\r\n\r\n   playSong = ({ playlist, index }) => {\r\n      this.props.playSong({ playlist, index });\r\n   };\r\n\r\n   deletePlaylist = () => {\r\n      const { playlist } = this.props;\r\n\r\n      this.props.popView();\r\n      setTimeout(() => {\r\n         this.props.deletePlaylist(playlist);\r\n      }, 300);\r\n   };\r\n\r\n   setupTrackOptionsMenu = (track, index) => {\r\n      const { playlist } = this.props;\r\n\r\n      this.props.pushPopup({\r\n         name: 'Options',\r\n         props: {\r\n            options: [\r\n               {\r\n                  label: 'Play Next',\r\n                  image: 'play_next.svg',\r\n                  onClick: () => this.props.addToQueue(track),\r\n               },\r\n               {\r\n                  label: 'Add to a Playlist',\r\n                  image: 'add_to_playlist.svg',\r\n                  onClick: () =>\r\n                     this.props.pushPopup({\r\n                        name: 'Playlist Selector',\r\n                        props: {\r\n                           onSelect: playlist =>\r\n                              this.props.addToPlaylist(track, playlist),\r\n                        },\r\n                     }),\r\n               },\r\n               {\r\n                  label: 'Delete from Playlist',\r\n                  image: 'trash.svg',\r\n                  onClick: () => this.props.removeFromPlaylist(index, playlist),\r\n               },\r\n            ],\r\n         },\r\n      });\r\n   };\r\n\r\n   setupPlaylistOptionsMenu = () => {\r\n      this.props.pushPopup({\r\n         name: 'Options',\r\n         props: {\r\n            options: [\r\n               {\r\n                  label: 'Delete from Library',\r\n                  image: 'trash.svg',\r\n                  onClick: this.deletePlaylist,\r\n               },\r\n            ],\r\n         },\r\n      });\r\n   };\r\n\r\n   componentDidMount() {\r\n      this.props.fetchPlaylists();\r\n   }\r\n\r\n   render() {\r\n      const { playlist, apiState } = this.props;\r\n      const playlists = JSON.parse(localStorage.appleMusicPlaylists);\r\n      if (!playlists) {\r\n         return null;\r\n      }\r\n      let { tracks, img, description, title } = playlists[playlist.title];\r\n      const { currentTrack } = apiState.data;\r\n      img = img || 'images/music.jpg';\r\n\r\n      return (\r\n         <Container>\r\n            <MobileHeader>\r\n               <ArtworkContainer>\r\n                  <Artwork src={img} />\r\n               </ArtworkContainer>\r\n               <TitleContainer>\r\n                  <Title>{title}</Title>\r\n                  <Subtitle>{description}</Subtitle>\r\n                  <ActionContainer>\r\n                     <Svg\r\n                        src=\"images/more_circle.svg\"\r\n                        onClick={this.setupPlaylistOptionsMenu}\r\n                     />\r\n                  </ActionContainer>\r\n               </TitleContainer>\r\n            </MobileHeader>\r\n            <VisibleDesktop>\r\n               <ArtworkContainer>\r\n                  <Artwork src={img} />\r\n               </ArtworkContainer>\r\n            </VisibleDesktop>\r\n            <ButtonContainer>\r\n               <VisibleDesktop>\r\n                  <TitleContainer>\r\n                  <Title>{title}</Title>\r\n                  <Subtitle>{description}</Subtitle>\r\n                  <ActionContainer>\r\n                     <Svg\r\n                        src=\"images/more_circle.svg\"\r\n                        onClick={this.setupPlaylistOptionsMenu}\r\n                     />\r\n                     </ActionContainer>\r\n                     </TitleContainer>\r\n               </VisibleDesktop>\r\n               {tracks &&\r\n                  tracks.map((item, index) => {\r\n                     return (\r\n                        <Button\r\n                           key={`playlist-${item.name}-${index}`}\r\n                           label={item.name}\r\n                           sublabel={item.artist}\r\n                           isPlaying={\r\n                              currentTrack &&\r\n                              item.name === currentTrack.name &&\r\n                              item.artist === currentTrack.artist\r\n                           }\r\n                           OptionsMenu={true}\r\n                           onOptionsClick={() =>\r\n                              this.setupTrackOptionsMenu(item, index)\r\n                           }\r\n                           onClick={() =>\r\n                              this.playSong({ playlist: tracks, index })\r\n                           }\r\n                        />\r\n                     );\r\n                  })}\r\n            </ButtonContainer>\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PlaylistView);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { constants } from '../toolbox';\r\nimport * as Views from './';\r\n\r\nconst { animation } = constants;\r\nconst { slideInFromRight, slideOutToRight } = animation;\r\n\r\nconst Container = styled.div`\r\n   position: relative;\r\n   width: 100%;\r\n   max-width: 1130px;\r\n   flex: 1;\r\n   overflow: auto;\r\n   margin: 48px auto 64px auto;\r\n   padding-left: 24px;\r\n   overflow: hidden;\r\n`;\r\n\r\nconst PageContainer = styled.div`\r\n   z-index: ${props => (props.secondFromTop ? 0 : 1)};\r\n   position: absolute;\r\n   top: 0;\r\n   bottom: 0;\r\n   left: 0;\r\n   right: 0;\r\n   padding: 0 24px;\r\n   background: white;\r\n   transform: ${props =>\r\n      props.secondFromTop && !props.becomingTop ? 'translateX(-20%)' : null};\r\n   overflow: ${props => (props.secondFromTop ? 'hidden' : 'auto')};\r\n   animation: ${props =>\r\n      props.exiting ? slideOutToRight : slideInFromRight} 0.3s ease-in-out;\r\n   transition: all 0.3s ease-in-out;\r\n   -webkit-overflow-scrolling: touch;\r\n`;\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      viewState: state.viewState,\r\n   };\r\n};\r\n\r\nconst ViewStack = connect(mapStateToProps)(({ stack, exiting }) => {\r\n   return stack.map(({ name, props }, index) => {\r\n      const View = Views[name];\r\n      const secondFromTop = index !== stack.length - 1;\r\n\r\n      try {\r\n         return (\r\n            <PageContainer\r\n               key={`page-${index}`}\r\n               secondFromTop={secondFromTop}\r\n               becomingTop={exiting && index === stack.length - 2}\r\n               exiting={exiting && index === stack.length - 1}>\r\n               <View {...props} />\r\n            </PageContainer>\r\n         );\r\n      } catch (e) {\r\n         console.error('Error: This view is empty: ', View);\r\n         return null;\r\n      }\r\n   });\r\n});\r\n\r\nclass ViewContainer extends Component {\r\n   constructor(props) {\r\n      super(props);\r\n      const { viewState } = props;\r\n      const { stack } = viewState;\r\n\r\n      this.state = {\r\n         stack,\r\n         newStack: null,\r\n         exiting: false,\r\n      };\r\n   }\r\n\r\n   static getDerivedStateFromProps(nextProps, prevState) {\r\n      const { viewState } = nextProps;\r\n      const { stack } = viewState;\r\n      const exiting = stack.length < prevState.stack.length;\r\n\r\n      return {\r\n         stack: exiting ? prevState.stack : stack,\r\n         exiting,\r\n      };\r\n   }\r\n\r\n   animateBack() {\r\n      const { viewState } = this.props;\r\n      const { stack } = viewState;\r\n\r\n      setTimeout(() => {\r\n         this.setState({\r\n            stack,\r\n            exiting: false,\r\n         });\r\n      }, 280);\r\n   }\r\n\r\n   componentDidUpdate(nextProps, prevState) {\r\n      if (this.state.exiting) {\r\n         this.animateBack();\r\n      }\r\n   }\r\n\r\n   render() {\r\n      const { stack, exiting } = this.state;\r\n\r\n      return (\r\n         <Container>\r\n            <ViewStack stack={stack} exiting={exiting} />\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ViewContainer);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { Icon, constants } from '../../toolbox';\r\nimport { popView } from '../../views/actions';\r\n\r\nconst { color, animation } = constants;\r\nconst { slideInFromRight, slideOutToRight } = animation;\r\n\r\nconst Container = styled.div`\r\n   z-index: 2;\r\n   position: fixed;\r\n   display: flex;\r\n   top: 0;\r\n   left: 0;\r\n   right: 0;\r\n   max-width: 1200px;\r\n   margin: 0 auto;\r\n   height: ${props => (props.hideTitle ? '48px' : '90px')};\r\n   padding-left: 48px;\r\n   background: white;\r\n   overflow: hidden;\r\n   transition: all 0.3s ease-in-out;\r\n\r\n   @media screen and (max-width: 768px) {\r\n      padding-left: 0;\r\n   }\r\n`;\r\n\r\nconst ChevronContainer = styled.div`\r\n   cursor: pointer;\r\n   width: 40px;\r\n   margin-left: -6px;\r\n   opacity: ${props => (props.isShown ? 1 : 0)};\r\n   transform: ${props =>\r\n      props.isShown ? 'scale(1) translateX(0)' : 'scale(0) translateX(20px)'};\r\n   transition: all 0.3s;\r\n\r\n   &:active {\r\n      svg: {\r\n         color: ${props => props.isBackButton && color.redAlpha[2]};\r\n      }\r\n   }\r\n`;\r\n\r\nconst TitleContainer = styled.div`\r\n   position: absolute;\r\n   margin-top: ${props =>\r\n      (props.isBackButton && !props.exiting) || props.isHidden\r\n         ? '5px'\r\n         : '48px'};\r\n   margin-left: ${props =>\r\n      props.isHidden && !props.exiting ? '-100%' : '24px'};\r\n   margin-left: ${props => props.isTitle && props.exiting && '100vw'};\r\n   animation: ${props => (props.isLeaving ? slideOutToRight : slideInFromRight)}\r\n      0.3s ease-in-out;\r\n   transition: all 0.3s ease-in-out;\r\n\r\n   h1 {\r\n      color: ${props =>\r\n         (props.isBackButton && !props.exiting) || props.isHidden\r\n            ? color.red[4]\r\n            : color.black};\r\n      color: ${props => props.isTitle && props.exiting && 'white'};\r\n      font-weight: ${props =>\r\n         (props.isBackButton && !props.exiting) || props.isHidden\r\n            ? 'normal'\r\n            : 'bold'};\r\n      font-size: ${props =>\r\n         (props.isBackButton && !props.exiting) || props.isHidden\r\n            ? '20px'\r\n            : null};\r\n      opacity: ${props => (props.isHidden && !props.exiting ? 0 : 1)};\r\n      cursor: ${props => props.isBackButton && 'pointer'};\r\n\r\n      &:active {\r\n         color: ${props => props.isBackButton && color.redAlpha[2]};\r\n      }\r\n   }\r\n`;\r\n\r\nconst Title = styled.h1`\r\n   margin: 0;\r\n   transition: all 0.3s ease-in-out;\r\n`;\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      viewState: state.viewState,\r\n   };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n   return {\r\n      popView: () => dispatch(popView()),\r\n   };\r\n};\r\n\r\nconst TitleStack = connect(mapStateToProps)(({ stack, exiting, onClick }) => {\r\n   return stack.map(({ name, title, props }, index) => {\r\n      const isHidden = index < stack.length - 2;\r\n      const isBackButton = index === stack.length - 2;\r\n      const isTitle = index === stack.length - 1;\r\n\r\n      return (\r\n         index >= stack.length - 3 && (\r\n            <TitleContainer\r\n               key={`title-${name}`}\r\n               isHidden={isHidden}\r\n               isBackButton={isBackButton}\r\n               exiting={exiting}\r\n               isTitle={isTitle}>\r\n               {!props.hideTitle && (\r\n                  <Title onClick={() => (isBackButton ? onClick() : null)}>\r\n                     {title || name}\r\n                  </Title>\r\n               )}\r\n            </TitleContainer>\r\n         )\r\n      );\r\n   });\r\n});\r\n\r\nconst BackButton = connect(\r\n   mapStateToProps,\r\n   mapDispatchToProps,\r\n)(({ viewState, popView }) => {\r\n   const { stack } = viewState;\r\n   const showChevron = stack.length > 1;\r\n\r\n   return (\r\n      <ChevronContainer isShown={showChevron}>\r\n         <Icon\r\n            name=\"chevron-left\"\r\n            size={38}\r\n            color={color.red[4]}\r\n            onClick={showChevron ? popView : null}\r\n         />\r\n      </ChevronContainer>\r\n   );\r\n});\r\n\r\nclass Header extends Component {\r\n   constructor(props) {\r\n      super(props);\r\n      const { viewState } = props;\r\n      const { stack } = viewState;\r\n\r\n      this.state = {\r\n         stack,\r\n         hideTitle: props.hideTitle,\r\n         newStack: null,\r\n         exiting: false,\r\n      };\r\n   }\r\n\r\n   static getDerivedStateFromProps(nextProps, prevState) {\r\n      const { viewState } = nextProps;\r\n      const { stack } = viewState;\r\n      const exiting = stack.length < prevState.stack.length;\r\n\r\n      return {\r\n         stack: exiting ? prevState.stack : stack,\r\n         exiting,\r\n      };\r\n   }\r\n\r\n   animateBack() {\r\n      const { viewState } = this.props;\r\n      const { stack } = viewState;\r\n\r\n      setTimeout(() => {\r\n         this.setState({\r\n            stack,\r\n            exiting: false,\r\n         });\r\n      }, 280);\r\n   }\r\n\r\n   componentDidUpdate(nextProps, prevState) {\r\n      if (this.state.exiting) {\r\n         this.animateBack();\r\n      }\r\n   }\r\n\r\n   render() {\r\n      const { stack, exiting } = this.state;\r\n      const currentView = stack[stack.length - 1];\r\n      const { hideTitle } = currentView.props;\r\n\r\n      return (\r\n         <Container hideTitle={hideTitle && !exiting}>\r\n            <BackButton />\r\n            <TitleStack\r\n               stack={stack}\r\n               exiting={exiting}\r\n               onClick={this.props.popView}\r\n            />\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nexport default connect(\r\n   mapStateToProps,\r\n   mapDispatchToProps,\r\n)(Header);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Container = styled.div`\r\n   position: relative;\r\n   display: flex;\r\n   height: 48px;\r\n   padding: 0 16px;\r\n   background: ${props => props.color};\r\n`;\r\n\r\nconst Section = styled.div`\r\n   display: flex;\r\n   flex: 1;\r\n   align-items: center;\r\n\r\n   &:nth-child(2) {\r\n      justify-content: center;\r\n   }\r\n\r\n   &:last-child {\r\n      justify-content: flex-end;\r\n   }\r\n`;\r\n\r\nconst Header = ({ left, center, right, color }) => {\r\n   return (\r\n      <Container color={color || 'white'}>\r\n         <Section>{left}</Section>\r\n         <Section>{center}</Section>\r\n         <Section>{right}</Section>\r\n      </Container>\r\n   );\r\n}\r\n\r\nexport default Header;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { constants, FileInput } from '../../toolbox';\r\nimport { fetchPlaylists, createPlaylist } from '../../api/actions';\r\nimport { pushView, popPopup } from '../../views/actions';\r\nimport Header from '../components/header';\r\n\r\nconst { color, animation } = constants;\r\nconst { slideInFromBottom, slideOutToBottom } = animation;\r\n\r\nconst Container = styled.div`\r\n   z-index: ${props => 100 + props.index};\r\n   position: fixed;\r\n   top: 0;\r\n   bottom: 0;\r\n   left: 0;\r\n   right: 0;\r\n   background: white;\r\n   animation: ${props => (props.closing ? slideOutToBottom : slideInFromBottom)}\r\n      0.3s ease-in-out;\r\n`;\r\n\r\nconst Button = styled.h3`\r\n   margin: 0;\r\n   color: ${color.red[4]};\r\n   font-weight: ${props => props.bold && 'bold'};\r\n   cursor: pointer;\r\n   user-select: none;\r\n`;\r\n\r\nconst Title = styled.h3`\r\n   margin: 0;\r\n`;\r\n\r\nconst Section = styled.div`\r\n   display: flex;\r\n   padding: 0 16px;\r\n`;\r\n\r\nconst TitleInput = styled.textarea`\r\n   margin-left: 16px;\r\n   -webkit-appearance: none;\r\n   font-size: 24px;\r\n   border: none;\r\n   outline: none;\r\n   flex: 1;\r\n   resize: none;\r\n   caret-color: ${color.red[4]};\r\n   font-family: 'SF Pro Display';\r\n`;\r\n\r\nconst DescriptionInput = styled.textarea`\r\n   margin: 16px 0 16px 16px;\r\n   -webkit-appearance: none;\r\n   font-size: 24px;\r\n   border: none;\r\n   outline: none;\r\n   flex: 1;\r\n   resize: none;\r\n   caret-color: ${color.red[4]};\r\n   border-top: 1px solid ${color.gray[3]};\r\n   border-bottom: 1px solid ${color.gray[3]};\r\n   font-family: 'SF Pro Display';\r\n`;\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      viewState: state.viewState,\r\n      apiState: state.apiState,\r\n   };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n   return {\r\n      pushView: view => dispatch(pushView(view)),\r\n      popPopup: () => dispatch(popPopup()),\r\n      fetchPlaylists: () => dispatch(fetchPlaylists()),\r\n      createPlaylist: playlist => dispatch(createPlaylist(playlist)),\r\n   };\r\n};\r\n\r\nclass PlaylistCreator extends Component {\r\n   state = {\r\n      img: /* Base64 encoded string */ null,\r\n      title: '',\r\n      description: '',\r\n      tracks: [],\r\n   };\r\n\r\n   handleImageUpload = img => {\r\n      this.setState({ img });\r\n   };\r\n\r\n   createPlaylist = () => {\r\n      const description = document.getElementById('playlist-description').value;\r\n      const title = document.getElementById('playlist-title').value;\r\n      const { img, tracks } = this.state;\r\n\r\n      if (!title || !description) {\r\n         alert(\"Make sure to add a title and description!\");\r\n         return;\r\n      }\r\n\r\n      const playlist = {\r\n         title,\r\n         description,\r\n         img,\r\n         tracks,\r\n      };\r\n\r\n      this.props.createPlaylist(playlist);\r\n      this.props.popPopup();\r\n   };\r\n\r\n   render() {\r\n      const { index, closing } = this.props;\r\n\r\n      return (\r\n         <Container index={index} closing={closing}>\r\n            <Header\r\n               left={<Button onClick={this.props.popPopup}>Cancel</Button>}\r\n               center={<Title>New Playlist</Title>}\r\n               right={\r\n                  <Button bold onClick={this.createPlaylist}>\r\n                     Done\r\n                  </Button>\r\n               }\r\n            />\r\n            <Section>\r\n               <FileInput\r\n                  img={'images/photo_add.png'}\r\n                  onUpload={this.handleImageUpload}\r\n               />\r\n               <TitleInput id=\"playlist-title\" placeholder=\"Playlist Name\" />\r\n            </Section>\r\n            <Section>\r\n               <DescriptionInput\r\n                  id=\"playlist-description\"\r\n                  placeholder=\"Description\"\r\n               />\r\n            </Section>\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PlaylistCreator);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { constants, PlaylistButton } from '../../toolbox';\r\nimport { fetchPlaylists } from '../../api/actions';\r\nimport { popPopup, pushPopup } from '../../views/actions';\r\nimport Header from '../components/header';\r\n\r\nconst { color, animation } = constants;\r\nconst { slideInFromBottom, slideOutToBottom } = animation;\r\n\r\nconst Container = styled.div`\r\n   z-index: ${props => 100 + props.index};\r\n   position: fixed;\r\n   top: 0;\r\n   bottom: 0;\r\n   left: 0;\r\n   right: 0;\r\n   background: white;\r\n   animation: ${props => (props.closing ? slideOutToBottom : slideInFromBottom)}\r\n      0.3s ease-in-out;\r\n`;\r\n\r\nconst Button = styled.h3`\r\n   margin: 0;\r\n   color: ${color.red[4]};\r\n   font-weight: ${props => props.bold && 'bold'};\r\n   cursor: pointer;\r\n   user-select: none;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n   margin: 0 0 16px 0;\r\n   padding: 0 0 16px 16px;\r\n   border-bottom: 1px solid ${color.gray[2]};\r\n   background: ${color.gray[1]};\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n   padding-left: 16px;\r\n`;\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      apiState: state.apiState,\r\n   };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n   return {\r\n      fetchPlaylists: () => dispatch(fetchPlaylists()),\r\n      popPopup: () => dispatch(popPopup()),\r\n      pushPopup: popup => dispatch(pushPopup(popup)),\r\n   };\r\n};\r\n\r\nclass PlaylistSelector extends Component {\r\n   selectPlaylist = playlist => {\r\n      this.props.onSelect(playlist);\r\n      this.props.popPopup();\r\n   };\r\n\r\n   newPlaylist = () => {\r\n      this.props.pushPopup({\r\n         name: 'Playlist Creator',\r\n         props: {},\r\n      });\r\n   };\r\n\r\n   getPlaylistButtons = () => {\r\n      const { playlists } = this.props.apiState.data;\r\n      const playlistButtons = [];\r\n\r\n      for (let [key, playlist] of Object.entries(playlists)) {\r\n         playlistButtons.push(\r\n            <PlaylistButton\r\n               key={`${key}-${playlist.title}-${playlist.description}`}\r\n               title={playlist.title}\r\n               img={playlist.img || 'images/music.jpg'}\r\n               chevron\r\n               onClick={() => this.selectPlaylist(playlist)}\r\n            />,\r\n         );\r\n      }\r\n      return playlistButtons;\r\n   };\r\n\r\n   componentDidMount() {\r\n      this.props.fetchPlaylists();\r\n   }\r\n\r\n   render() {\r\n      const { index, closing } = this.props;\r\n\r\n      return (\r\n         <Container index={index} closing={closing}>\r\n            <Header\r\n               color={color.gray[1]}\r\n               right={<Button onClick={this.props.popPopup}>Cancel</Button>}\r\n            />\r\n            <Title>Add to a Playlist</Title>\r\n            <ButtonContainer>\r\n               <PlaylistButton\r\n                  key=\"playlist-selector-new-playlist-button\"\r\n                  title=\"New Playlist...\"\r\n                  img=\"images/playlist_add.jpg\"\r\n                  color=\"red\"\r\n                  onClick={this.newPlaylist}\r\n               />\r\n               {this.getPlaylistButtons()}\r\n            </ButtonContainer>\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PlaylistSelector);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { constants, OptionsButton } from '../../toolbox';\r\nimport { pushView, popPopup } from '../../views/actions';\r\n\r\nconst { color, animation } = constants;\r\nconst { slideInFromBottom, slideOutToBottom } = animation;\r\n\r\nconst Container = styled.div`\r\n   z-index: ${props => 100 + props.index};\r\n   position: fixed;\r\n   display: flex;\r\n   justify-content: center;\r\n   align-items: flex-end;\r\n   top: 0;\r\n   bottom: 0;\r\n   left: 0;\r\n   right: 0;\r\n`;\r\n\r\nconst Cover = styled.div`\r\n   z-index: 0;\r\n   position: absolute;\r\n   top: 0;\r\n   bottom: 0;\r\n   left: 0;\r\n   right: 0;\r\n   cursor: pointer;\r\n   background: ${color.grayAlpha[5]};\r\n   animation: ${props => (props.closing ? animation.fadeOut : animation.fadeIn)}\r\n      0.3s ease-in-out;\r\n`;\r\n\r\nconst MenuContainer = styled.div`\r\n   position: relative;\r\n   width: 90%;\r\n   max-width: 30em;\r\n   margin-bottom: 16px;\r\n   animation: ${props => (props.closing ? slideOutToBottom : slideInFromBottom)}\r\n      0.3s ease-in-out;\r\n   overflow: hidden;\r\n`;\r\n\r\nconst Section = styled.div`\r\n   margin: 12px 0;\r\n   background: white;\r\n   border-radius: 20px;\r\n   overflow: hidden;\r\n\r\n   &:first-child {\r\n      margin-top: 0;\r\n   }\r\n\r\n   &:last-child {\r\n      margin-bottom: 0;\r\n   }\r\n`;\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      viewState: state.viewState,\r\n      apiState: state.apiState,\r\n   };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n   return {\r\n      pushView: view => dispatch(pushView(view)),\r\n      popPopup: () => dispatch(popPopup()),\r\n   };\r\n};\r\n\r\nclass OptionsMenu extends Component {\r\n   handleClick = onClick => {\r\n      this.props.popPopup();\r\n      setTimeout(() => {\r\n         typeof onClick === 'function' && onClick();\r\n      }, 250);\r\n   };\r\n\r\n   render() {\r\n      const { index, closing, options } = this.props;\r\n\r\n      return (\r\n         <Container index={index}>\r\n            <Cover closing={closing} onClick={this.handleClick} />\r\n            <MenuContainer closing={closing}>\r\n               <Section>\r\n                  {options &&\r\n                     options.map(option => (\r\n                        <OptionsButton\r\n                           key={`option-${option.label}`}\r\n                           label={option.label}\r\n                           image={option.image}\r\n                           onClick={() => this.handleClick(option.onClick)}\r\n                        />\r\n                     ))}\r\n               </Section>\r\n               <Section>\r\n                  <OptionsButton\r\n                     bold\r\n                     center={true}\r\n                     label=\"Cancel\"\r\n                     onClick={this.handleClick}\r\n                  />\r\n               </Section>\r\n            </MenuContainer>\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(OptionsMenu);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport PlaylistCreator from './playlist_creator';\r\nimport PlaylistSelector from './playlist_selector';\r\nimport OptionsMenu from './options';\r\n\r\nconst popups = {\r\n   'Playlist Creator': <PlaylistCreator />,\r\n   'Playlist Selector': <PlaylistSelector />,\r\n   'Options': <OptionsMenu />\r\n};\r\n\r\nconst Container = styled.div``;\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      viewState: state.viewState,\r\n   };\r\n};\r\n\r\nconst PopupStack = connect(mapStateToProps)(({ popupStack, closing }) => {\r\n   return popupStack.map(({ name, props }, index) => {\r\n      const popup = popups[name];\r\n      props.index = index;\r\n      props.closing = index === popupStack.length-1 && closing;\r\n      props.key = `popup-${index}`;\r\n\r\n      try {\r\n         return React.cloneElement(popup, props)\r\n      } catch (e) {\r\n         console.error('Error: This popup is broken: ', popup);\r\n         return null;\r\n      }\r\n   });\r\n});\r\n\r\nclass PopupContainer extends Component {\r\n   constructor(props) {\r\n      super(props);\r\n      const { viewState } = props;\r\n      const { popupStack } = viewState;\r\n\r\n      this.state = {\r\n         popupStack,\r\n         closing: false,\r\n      };\r\n   }\r\n\r\n   static getDerivedStateFromProps(nextProps, prevState) {\r\n      const { viewState } = nextProps;\r\n      const { popupStack } = viewState;\r\n      const closing = popupStack.length < prevState.popupStack.length;\r\n\r\n      return {\r\n         popupStack: closing ? prevState.popupStack : popupStack,\r\n         closing\r\n      }\r\n   }\r\n\r\n   animateClose() {\r\n      const { viewState } = this.props;\r\n      const { popupStack } = viewState;\r\n\r\n      setTimeout(() => {\r\n         this.setState({\r\n            popupStack,\r\n            closing: false\r\n         });\r\n      }, 280);\r\n   }\r\n\r\n   componentDidUpdate(nextProps, prevState) {\r\n      if (this.state.closing) {\r\n         this.animateClose();\r\n      }\r\n   }\r\n\r\n   render() {\r\n      const { popupStack, closing } = this.state;\r\n\r\n      return (\r\n         <Container>\r\n            <PopupStack popupStack={popupStack} closing={closing} />\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nexport default connect(mapStateToProps)(PopupContainer);\r\n","import React, { Component } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { connect } from 'react-redux';\r\nimport { constants } from '../../../../toolbox';\r\nimport { toggleFullscreen } from '../../actions';\r\nimport { resume, pause, nextSong } from '../../../../audio/actions';\r\n\r\nconst { color } = constants;\r\n\r\nconst Container = styled.div`\r\n   position: relative;\r\n   height: 64px;\r\n   width: 100%;\r\n   text-align: center;\r\n   border-left: 1px solid ${color.gray[2]};\r\n   border-top: 1px solid #E9E9E9;\r\n   border-bottom: 1px solid #E9E9E9;\r\n   background: #F9F9F9;\r\n   box-sizing: border-box;\r\n   transition: all 0.35s ease;\r\n   cursor: pointer;\r\n\r\n   ${props =>\r\n      props.isFullscreen &&\r\n      css`\r\n         height: 40vh;\r\n         border-left: 1px solid transparent;\r\n         border-top: none;\r\n         border-bottom: none;\r\n         width: 100%;\r\n         cursor: default;\r\n         background: #fff;\r\n      `};\r\n`;\r\n\r\nconst ArtworkContainer = styled.div`\r\n   position: relative;\r\n   height: 64px;\r\n   max-height: 100%;\r\n   width: 64px;\r\n   padding: 8px 0;\r\n   text-align: center;\r\n   transition: all 0.35s ease;\r\n\r\n   ${props =>\r\n      props.isFullscreen &&\r\n      css`\r\n         height: 46vh;\r\n         min-height: 8em;\r\n         width: 100%;\r\n      `};\r\n`;\r\n\r\nconst Artwork = styled.img`\r\n   height: ${props => (props.isFullscreen ? '18em' : '50px')};\r\n   width: auto;\r\n   max-height: ${props => (props.isFullscreen ? '90%' : '100%')};\r\n   max-width: 100%;\r\n   margin-top: ${props => props.isPlaying && '8px'};\r\n   transform: ${props => props.isPlaying && 'scale(1.1)'};\r\n   pointer-events: none;\r\n   user-select: none;\r\n   border-radius: ${props => props.isFullscreen && '4px'};\r\n   transition: all 0.35s ease;\r\n   box-shadow: ${props => props.isPlaying && '0 10px 30px #a5a5a5'};\r\n`;\r\n\r\nconst InfoContainer = styled.div`\r\n   position: absolute;\r\n   top: 0;\r\n   left: 0;\r\n   right: 0;\r\n   height: 64px;\r\n   display: flex;\r\n   justify-content: space-between;\r\n   align-items: center;\r\n   padding-left: 80px;\r\n   opacity: ${props => props.isFullscreen && 0};\r\n   pointer-events: ${props => props.isFullscreen && 'none'};\r\n   transition: all 0.35s ease;\r\n`;\r\n\r\nconst SongTitle = styled.h3`\r\n   margin: 0;\r\n   font-weight: normal;\r\n   color: #646464;\r\n   font-size: 13px;\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n   display: flex;\r\n   align-items: center;\r\n   justify-content: flex-end;\r\n   padding-right: 16px;\r\n`;\r\n\r\nconst Svg = styled.img`\r\n   height: 24px;\r\n   width: 24px;\r\n   margin: 0 8px;\r\n`;\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      audioState: state.audioState,\r\n      navState: state.navState,\r\n   };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n   return {\r\n      toggleFullscreen: () => dispatch(toggleFullscreen()),\r\n      resume: () => dispatch(resume()),\r\n      pause: () => dispatch(pause()),\r\n      nextSong: () => dispatch(nextSong()),\r\n   };\r\n};\r\n\r\nclass MiniControls extends Component {\r\n   resume = e => {\r\n      e.stopPropagation();\r\n      const { audioState } = this.props;\r\n      const { hasAudio, isPlaying } = audioState;\r\n\r\n      if (hasAudio && !isPlaying) {\r\n         this.props.resume();\r\n      }\r\n   };\r\n\r\n   pause = e => {\r\n      e.stopPropagation();\r\n      const { audioState } = this.props;\r\n      const { hasAudio, isPlaying } = audioState;\r\n\r\n      if (hasAudio && isPlaying) {\r\n         this.props.pause();\r\n      }\r\n   };\r\n\r\n   nextSong = e => {\r\n      e.stopPropagation();\r\n      const { audioState } = this.props;\r\n      const { hasAudio } = audioState;\r\n\r\n      if (hasAudio) {\r\n         this.props.nextSong();\r\n      }\r\n   };\r\n\r\n   render() {\r\n      const { navState, audioState } = this.props;\r\n      const { isFullscreen } = navState;\r\n      const {\r\n         queue,\r\n         inQueue,\r\n         hasAudio,\r\n         isPlaying,\r\n         playlist,\r\n         currentIndex,\r\n      } = audioState;\r\n      const path = 'images';\r\n      const track =\r\n         queue.length && inQueue\r\n            ? queue[0]\r\n            : hasAudio && currentIndex < playlist.length\r\n               ? playlist[currentIndex]\r\n               : {\r\n                    name: ' Music.js',\r\n                    artist: 'Tanner Villarete',\r\n                    album: 'My App',\r\n                    artwork: 'hi.com',\r\n                    track: '1',\r\n                 };\r\n      const artwork = hasAudio\r\n         ? `https://tannerv.ddns.net/SpotiFree/${track.artwork}`\r\n         : `images/default_artwork.svg`;\r\n\r\n      return (\r\n         <Container\r\n            isFullscreen={isFullscreen}\r\n            onClick={() => !isFullscreen && this.props.toggleFullscreen()}>\r\n            <ArtworkContainer isFullscreen={isFullscreen}>\r\n               <Artwork\r\n                  isFullscreen={isFullscreen}\r\n                  isPlaying={isPlaying && isFullscreen}\r\n                  src={artwork}\r\n               />\r\n            </ArtworkContainer>\r\n            <InfoContainer isFullscreen={isFullscreen}>\r\n               <SongTitle>{track.name}</SongTitle>\r\n               <ButtonContainer size={32}>\r\n                  {!(hasAudio && isPlaying) && (\r\n                     <Svg src={`${path}/play.svg`} onClick={this.resume} />\r\n                  )}\r\n                  {isPlaying && (\r\n                     <Svg src={`${path}/pause.svg`} onClick={this.pause} />\r\n                  )}\r\n                  <Svg src={`${path}/skip_next.svg`} onClick={this.nextSong} />\r\n               </ButtonContainer>\r\n            </InfoContainer>\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MiniControls);\r\n","export const toggleFullscreen = () => ({ type: 'TOGGLE_FULLSCREEN' });\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { connect } from 'react-redux';\r\nimport { constants } from '../../../../toolbox';\r\nimport { resume, pause, nextSong } from '../../../../audio/actions';\r\n\r\nconst { color } = constants;\r\n\r\nconst Container = styled.div`\r\n   margin-top: 16px;\r\n`;\r\n\r\nconst Title = styled.h3`\r\n   text-align: center;\r\n   margin: 0;\r\n`;\r\n\r\nconst Subtitle = styled.h3`\r\n   color: ${color.red[4]};\r\n   font-weight: normal;\r\n   text-align: center;\r\n   margin: 8px 0 0 0;\r\n`;\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      audioState: state.audioState,\r\n      navState: state.navState,\r\n   };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n   return {\r\n      resume: () => dispatch(resume()),\r\n      pause: () => dispatch(pause()),\r\n      nextSong: () => dispatch(nextSong()),\r\n   };\r\n};\r\n\r\nclass TrackInfo extends Component {\r\n   render() {\r\n      const { audioState } = this.props;\r\n      const { queue, inQueue, hasAudio, playlist, currentIndex } = audioState;\r\n      const track =\r\n         queue.length && inQueue\r\n            ? queue[0]\r\n            : hasAudio\r\n               ? playlist[currentIndex]\r\n               : {\r\n                    name: 'Apple Music.js',\r\n                    artist: 'Tanner Villarete',\r\n                    album: 'Cal Poly',\r\n                 };\r\n\r\n      return (\r\n         <Container>\r\n            <Title>{track.name}</Title>\r\n            <Subtitle>{`${track.artist} ${track.album}`}</Subtitle>\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TrackInfo);\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { connect } from 'react-redux';\r\nimport { resume, pause, nextSong, prevSong } from '../../../../audio/actions';\r\n\r\nconst Container = styled.div`\r\n   display: flex;\r\n   justify-content: space-around;\r\n   align-items: center;\r\n   min-height: 14vh;\r\n   margin-top: 16px;\r\n`;\r\n\r\nconst Svg = styled.img`\r\n   height: 32px;\r\n   width: 32px;\r\n   margin: 0 8px;\r\n   cursor: pointer;\r\n`;\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      audioState: state.audioState,\r\n      navState: state.navState,\r\n   };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n   return {\r\n      resume: () => dispatch(resume()),\r\n      pause: () => dispatch(pause()),\r\n      nextSong: () => dispatch(nextSong()),\r\n      prevSong: () => dispatch(prevSong()),\r\n   };\r\n};\r\n\r\nclass TrackButtons extends Component {\r\n   resume = () => {\r\n      const { audioState } = this.props;\r\n      const { hasAudio } = audioState;\r\n\r\n      if (hasAudio) {\r\n         this.props.resume();\r\n      }\r\n   }\r\n\r\n   pause = () => {\r\n      const { audioState } = this.props;\r\n      const { hasAudio, isPlaying } = audioState;\r\n\r\n      if (hasAudio && isPlaying) {\r\n         this.props.pause();\r\n      }\r\n   }\r\n\r\n   nextSong = () => {\r\n      const { audioState } = this.props;\r\n      const { hasAudio } = audioState;\r\n\r\n      if (hasAudio) {\r\n         this.props.nextSong();\r\n      }\r\n   };\r\n\r\n   prevSong = () => {\r\n      const { audioState } = this.props;\r\n      const { hasAudio } = audioState;\r\n\r\n      if (hasAudio) {\r\n         this.props.prevSong();\r\n      }\r\n   };\r\n\r\n   render() {\r\n      const { audioState } = this.props;\r\n      const { hasAudio, isPlaying } = audioState;\r\n      const path = `images`;\r\n\r\n      return (\r\n         <Container>\r\n            <Svg src={`${path}/skip_back.svg`} onClick={this.prevSong} />\r\n            {!(!!hasAudio && !!isPlaying) && (\r\n               <Svg src={`${path}/play.svg`} onClick={this.resume} />\r\n            )}\r\n            {!!isPlaying && (\r\n               <Svg src={`${path}/pause.svg`} onClick={this.pause} />\r\n            )}\r\n            <Svg src={`${path}/skip_next.svg`} onClick={this.nextSong} />\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TrackButtons);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport Slider from 'react-rangeslider';\r\nimport 'react-rangeslider/lib/index.css';\r\nimport { changeVolume } from '../../../../../audio/actions';\r\nimport { constants } from '../../../../../toolbox';\r\n\r\nconst { color } = constants;\r\n\r\nconst Container = styled.div`\r\n   height: 48px;\r\n   width: 90%;\r\n   margin: auto;\r\n   display: flex;\r\n\r\n   .rangeslider-horizontal.time-slider,\r\n   .volume-slider {\r\n      height: 4px;\r\n      width: 90%;\r\n      margin: auto;\r\n      box-shadow: none;\r\n\r\n      .rangeslider__fill {\r\n         background: ${color.gray[6]};\r\n         box-shadow: none;\r\n      }\r\n\r\n      .rangeslider__handle {\r\n         width: 7px;\r\n         height: 7px;\r\n         box-shadow: none;\r\n         background: ${color.gray[6]};\r\n         border: none;\r\n         outline: none;\r\n\r\n         &::active {\r\n            height: 30px;\r\n            width: 30px;\r\n         }\r\n\r\n         &::after {\r\n            display: none;\r\n         }\r\n      }\r\n   }\r\n\r\n   .volume-slider .rangeslider__handle {\r\n      width: 30px;\r\n      height: 30px;\r\n      background: white;\r\n      border: 1px solid rgba(0, 0, 0, 0.12);\r\n      box-shadow: 0 3px 3px rgb(150, 150, 150);\r\n   }\r\n`;\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      audioState: state.audioState,\r\n   };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n   return {\r\n      changeVolume: volume => dispatch(changeVolume(volume)),\r\n   };\r\n};\r\n\r\nclass VolumeSlider extends Component {\r\n   handleChange = val => {\r\n      this.props.changeVolume(val / 100);\r\n   };\r\n\r\n   render() {\r\n      const { audioState } = this.props;\r\n      const { volume } = audioState;\r\n\r\n      return (\r\n         <Container>\r\n            <Slider\r\n               className=\"volume-slider\"\r\n               tooltip={false}\r\n               value={volume * 100}\r\n               onChange={this.handleChange}\r\n            />\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(VolumeSlider);\r\n","import React, { Component } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { connect } from 'react-redux';\r\nimport { updateTime } from '../../../../audio/actions';\r\nimport { constants } from '../../../../toolbox';\r\nimport Slider from 'react-rangeslider';\r\nimport 'react-rangeslider/lib/index.css';\r\n\r\nconst { color } = constants;\r\n\r\nconst Container = styled.div`\r\n   position: relative;\r\n   display: flex;\r\n   flex-direction: column;\r\n   width: 90%;\r\n   margin: 3vh auto 1vh auto;\r\n   height: 5vh;\r\n\r\n   .rangeslider-horizontal.time-slider,\r\n   .scrubber {\r\n      height: 4px;\r\n      width: 90%;\r\n      margin: auto;\r\n      box-shadow: none;\r\n\r\n      .rangeslider__fill {\r\n         background: ${props =>\r\n            props.isChanging ? color.red[4] : color.gray[6]};\r\n         box-shadow: none;\r\n         transition: all 0.05s ease;\r\n      }\r\n\r\n      .rangeslider__handle {\r\n         width: 7px;\r\n         height: 7px;\r\n         box-shadow: none;\r\n         background: ${color.gray[6]};\r\n         border: none;\r\n         outline: none;\r\n\r\n         &::active {\r\n            height: 30px;\r\n            width: 30px;\r\n         }\r\n\r\n         &::after {\r\n            display: none;\r\n         }\r\n      }\r\n   }\r\n\r\n   .scrubber .rangeslider__handle {\r\n      width: 8px;\r\n      height: 8px;\r\n      background: #757778;\r\n      border: 2px solid transparent;\r\n      transition: all 0.05s ease;\r\n\r\n      ${props =>\r\n         props.isChanging &&\r\n         css`\r\n            height: 30px;\r\n            width: 30px;\r\n            background: ${color.red[4]};\r\n            border: 2px solid white;\r\n         `};\r\n   }\r\n`;\r\n\r\nconst TimeContainer = styled.div`\r\n   display: flex;\r\n   justify-content: space-between;\r\n   width: 90%;\r\n   margin: auto;\r\n`;\r\n\r\nconst Time = styled.h5`\r\n   font-weight: normal;\r\n   margin: 8px 0;\r\n   color: ${props => (props.isChanging ? color.red[4] : color.gray[6])};\r\n   transform: ${props => props.shift && 'translateY(10px)'};\r\n   transition: all 0.15s ease;\r\n`;\r\n\r\nexport function formatTime(seconds = 0, guide = seconds) {\r\n   let s = Math.floor(seconds % 60);\r\n   let m = Math.floor((seconds / 60) % 60);\r\n   let h = Math.floor(seconds / 3600);\r\n   const gm = Math.floor((guide / 60) % 60);\r\n   const gh = Math.floor(guide / 3600);\r\n\r\n   if (isNaN(seconds) || seconds === Infinity) {\r\n      h = m = s = '-';\r\n   }\r\n\r\n   h = h > 0 || gh > 0 ? `${h}:` : '';\r\n   m = `${(h || gm >= 10) && m < 10 ? `0${m}` : m}:`;\r\n   s = s < 10 ? `0${s}` : s;\r\n\r\n   return h + m + s;\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      audioState: state.audioState,\r\n   };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n   return {\r\n      updateTime: info => dispatch(updateTime(info)),\r\n   };\r\n};\r\n\r\nclass Scrubber extends Component {\r\n   state = {\r\n      isChanging: false,\r\n      time: {\r\n         current: 0,\r\n         max: 0,\r\n      },\r\n   };\r\n\r\n   startChange = () => {\r\n      const { audioState } = this.props;\r\n      const { time } = audioState;\r\n\r\n      this.setState({\r\n         isChanging: true,\r\n         time: {\r\n            current: time.current || 0,\r\n            max: time.max || 0,\r\n         },\r\n      });\r\n   };\r\n\r\n   handleChange = val => {\r\n      this.setState({\r\n         time: {\r\n            ...this.state.time,\r\n            current: val,\r\n         },\r\n      });\r\n   };\r\n\r\n   endChange = val => {\r\n      this.setState({\r\n         transitioning: true,\r\n         isChanging: false,\r\n      });\r\n      const audio = document.getElementById('audio');\r\n      if (audio) {\r\n         audio.currentTime = this.state.time.current;\r\n      }\r\n      setTimeout(() => {\r\n         this.setState({\r\n            transitioning: false,\r\n         });\r\n         this.props.updateTime(this.state.time);\r\n      }, 1000);\r\n   };\r\n\r\n   componentDidUpdate() {}\r\n\r\n   render() {\r\n      const { audioState } = this.props;\r\n      const { isChanging, transitioning } = this.state;\r\n      const propTime = audioState.time;\r\n      const stateTime = this.state.time;\r\n      const time = isChanging || transitioning ? stateTime : propTime;\r\n      const range = Math.round(time.current / time.max * 100);\r\n\r\n      return (\r\n         <Container isChanging={isChanging}>\r\n            <Slider\r\n               className=\"scrubber\"\r\n               tooltip={false}\r\n               value={time.current || 0}\r\n               max={time.max || 1}\r\n               onChange={this.handleChange}\r\n               onChangeStart={this.startChange}\r\n               onChangeComplete={this.endChange}\r\n            />\r\n            <TimeContainer>\r\n               <Time isChanging={isChanging} shift={isChanging && range <= 8}>\r\n                  {formatTime(time.current)}\r\n               </Time>\r\n               <Time shift={isChanging && range >= 90}>\r\n                  -{formatTime((time.max) - (time.current))}\r\n               </Time>\r\n            </TimeContainer>\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Scrubber);\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { connect } from 'react-redux';\r\nimport MiniControls from './mini_controls';\r\nimport { toggleFullscreen } from '../../actions';\r\nimport { nextSong, pause, updateTime } from '../../../../audio/actions';\r\nimport TrackInfo from './track_info';\r\nimport TrackButtons from './track_buttons';\r\nimport VolumeSlider from './volume_slider';\r\nimport Scrubber from './scrubber';\r\n\r\nconst Container = styled.div`\r\n   position: fixed;\r\n   bottom: 0;\r\n   right: 0;\r\n   height: ${props => (props.isFullscreen ? '100%' : '64px')};\r\n   width: 100%;\r\n   max-width: 400px;\r\n   background: #fff;\r\n   transition: all 0.35s ease;\r\n\r\n   @media screen and (max-width: 750px) {\r\n      z-index: 0;\r\n      max-width: none;\r\n   }\r\n`;\r\n\r\nconst Svg = styled.img``;\r\n\r\nconst CloseControls = styled.div`\r\n   display: flex;\r\n   justify-content: center;\r\n   align-items: center;\r\n   height: ${props => (props.hidden ? '0' : '48px')};\r\n   opacity: ${props => props.hidden && '0'};\r\n   pointer-events: ${props => props.hidden && 'none'};\r\n   transition: all 0.35s ease;\r\n   cursor: pointer;\r\n`;\r\n\r\nconst FullscreenControls = styled.div`\r\n   opacity: ${props => props.hide && 0};\r\n   transition: all 0.35s ease;\r\n   margin-top: 5vh;\r\n`;\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      audioState: state.audioState,\r\n      navState: state.navState,\r\n   };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n   return {\r\n      nextSong: () => dispatch(nextSong()),\r\n      toggleFullscreen: () => dispatch(toggleFullscreen()),\r\n      pause: () => dispatch(pause()),\r\n      updateTime: info => dispatch(updateTime(info)),\r\n   };\r\n};\r\n\r\nclass Controls extends Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n         volume: props.audioState.volume,\r\n         duration: null,\r\n      };\r\n   }\r\n\r\n   static getDerivedStateFromProps(nextProps, prevState) {\r\n      return {\r\n         volume: nextProps.volume,\r\n      };\r\n   }\r\n\r\n   handlePlay = () => {\r\n      if (this.audio.paused) {\r\n         clearInterval(this.playInterval);\r\n         const playPromise = this.audio.play();\r\n         playPromise.then(() => {\r\n            this.createTimeInterval();\r\n         });\r\n      }\r\n   };\r\n\r\n   handleSliderChange = e => {\r\n      clearInterval(this.playInterval);\r\n      this.audio.currentTime = e.target.value;\r\n      this.createTimeInterval();\r\n   };\r\n\r\n   createTimeInterval() {\r\n      this.playInterval = setInterval(() => {\r\n         if (this.audio) {\r\n            this.props.updateTime({\r\n               current: this.audio.currentTime,\r\n               max: this.audio.duration,\r\n            });\r\n         }\r\n      }, 1000);\r\n   }\r\n\r\n   handlePause() {\r\n      if (!this.audio.paused) {\r\n         this.audio.pause();\r\n         clearInterval(this.playInterval);\r\n      }\r\n   }\r\n\r\n   nextSong = () => {\r\n      this.props.nextSong();\r\n   };\r\n\r\n   changeVolume = val => {\r\n      console.log(val);\r\n   };\r\n\r\n   componentDidUpdate(nextProps) {\r\n      const { audioState, volume } = this.props;\r\n      const { isPlaying } = audioState;\r\n\r\n      if (this.audio && this.audio.volume !== volume) {\r\n         this.audio.volume = nextProps.audioState.volume;\r\n      }\r\n\r\n      if (isPlaying && this.audio) {\r\n         this.handlePlay();\r\n      } else if (!isPlaying && this.audio && this.audio.src) {\r\n         this.handlePause();\r\n      }\r\n   }\r\n\r\n   render() {\r\n      const { navState, audioState } = this.props;\r\n      const { isFullscreen } = navState;\r\n      const { queue, inQueue, playlist, currentIndex, volume } = audioState;\r\n      const track =\r\n         queue.length && inQueue\r\n            ? queue[0]\r\n            : !!playlist.length\r\n               ? playlist[currentIndex]\r\n               : null;\r\n\r\n      return (\r\n         <Container isFullscreen={isFullscreen}>\r\n            <CloseControls\r\n               hidden={!isFullscreen}\r\n               onClick={this.props.toggleFullscreen}>\r\n               <Svg src=\"images/chevron_wide.svg\" />\r\n            </CloseControls>\r\n            <MiniControls />\r\n            <FullscreenControls hide={!isFullscreen}>\r\n               <Scrubber />\r\n               <TrackInfo />\r\n               <TrackButtons />\r\n               <VolumeSlider />\r\n            </FullscreenControls>\r\n            {track && (\r\n               <audio\r\n                  ref={audio => {\r\n                     this.audio = audio;\r\n                  }}\r\n                  volume={volume}\r\n                  id=\"audio\"\r\n                  onEnded={this.nextSong}\r\n                  src={`https://tannerv.ddns.net/SpotiFree/${track.url}`}\r\n               />\r\n            )}\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Controls);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { toggleFullscreen } from '../../actions';\r\nimport { constants } from '../../../../toolbox';\r\n\r\nconst { color, animation } = constants;\r\nconst { fadeIn, fadeOut } = animation;\r\n\r\nconst Container = styled.div`\r\n   position: fixed;\r\n   display: ${props => !props.isOpen && 'none'};\r\n   top: 0;\r\n   bottom: 0;\r\n   left: 0;\r\n   right: 0;\r\n   background: ${color.grayAlpha[4]};\r\n   cursor: pointer;\r\n   animation: ${props => (props.isClosing ? fadeOut : fadeIn)} 0.35s ease;\r\n`;\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      navState: state.navState,\r\n   };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n   return {\r\n      toggleFullscreen: () => dispatch(toggleFullscreen()),\r\n   };\r\n};\r\n\r\nclass Cover extends Component {\r\n   constructor(props) {\r\n      super(props);\r\n      const { navState } = props;\r\n      const { isFullscreen } = navState;\r\n\r\n      this.state = {\r\n         isOpen: isFullscreen,\r\n         isClosing: false,\r\n      };\r\n   }\r\n\r\n   static getDerivedStateFromProps(nextProps, prevState) {\r\n      return {\r\n         isOpen: nextProps.navState.isFullscreen,\r\n         isClosing: !nextProps.navState.isFullscreen && prevState.isOpen,\r\n      };\r\n   }\r\n\r\n   animateClosed() {\r\n      setTimeout(() => {\r\n         this.setState({\r\n            isOpen: false,\r\n            isClosing: false,\r\n         });\r\n      }, 330);\r\n   }\r\n\r\n   componentDidUpdate(nextProps) {\r\n      if (this.state.isClosing) {\r\n         this.animateClosed();\r\n      }\r\n   }\r\n\r\n   render() {\r\n      const { isOpen, isClosing } = this.state;\r\n      return (\r\n         <Container\r\n            isOpen={isOpen || isClosing}\r\n            isClosing={isClosing}\r\n            onClick={this.props.toggleFullscreen}\r\n         />\r\n      );\r\n   }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cover);\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { connect } from 'react-redux';\r\nimport Controls from './components/controls';\r\nimport Cover from './components/controls/cover';\r\n\r\nconst OuterContainer = styled.div`\r\n   z-index: 50;\r\n   position: fixed;\r\n   bottom: 0;\r\n   left: 0;\r\n   right: 0;\r\n   height: 64px;\r\n   display: flex;\r\n   justify-content: flex-start;\r\n   align-items: center;\r\n\r\n   @media screen and (max-width: 750px) {\r\n      height: 7em;\r\n      flex-direction: column-reverse;\r\n   }\r\n`;\r\n\r\nconst mapStateToProps = state => {\r\n   return {\r\n      audioState: state.audioState,\r\n      navState: state.navState,\r\n   }\r\n}\r\n\r\nclass BottomBar extends Component {\r\n   render() {\r\n      return (\r\n         <OuterContainer>\r\n            <Cover />\r\n            <Controls />\r\n         </OuterContainer>\r\n      );\r\n   }\r\n}\r\n\r\nexport default connect(mapStateToProps)(BottomBar)\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport WelcomeScreen from './components/welcome';\r\nimport ViewContainer from './views/view_container';\r\nimport Header from './components/header';\r\nimport PopupContainer from './popups';\r\nimport BottomBar from './components/bar';\r\n\r\nconst Container = styled.div`\r\n   position: fixed;\r\n   top: 0;\r\n   bottom: 0;\r\n   left: 0;\r\n   right: 0;\r\n   display: flex;\r\n   flex-direction: column;\r\n`;\r\n\r\nexport default class MusicJS extends Component {\r\n   render() {\r\n      return (\r\n         <Container>\r\n            <WelcomeScreen />\r\n            <Header />\r\n            <ViewContainer />\r\n            <PopupContainer />\r\n            <BottomBar />\r\n         </Container>\r\n      );\r\n   }\r\n}\r\n","import React, { Component } from 'react';\r\nimport MusicJS from './js';\r\nimport { injectGlobal } from 'styled-components';\r\n\r\ninjectGlobal`\r\n   body {\r\n      font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\r\n      -webkit-tap-highlight-color: rgba(0,0,0,0);\r\n   }\r\n`;\r\n\r\nclass App extends Component {\r\n   render() {\r\n      return (\r\n         <div className=\"App\">\r\n            <MusicJS />\r\n         </div>\r\n      );\r\n   }\r\n}\r\n\r\ndocument.addEventListener('touchstart', function() {}, true);\r\n\r\nexport default App;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","const initialState = {\r\n   stack: [\r\n      {\r\n         name: 'Library',\r\n         props: {},\r\n      },\r\n   ],\r\n   popupStack: [],\r\n};\r\n\r\nconst viewReducer = (state = initialState, action) => {\r\n   switch (action.type) {\r\n      case 'PUSH_VIEW':\r\n         return {\r\n            ...state,\r\n            stack: state.stack.concat(action.view),\r\n         };\r\n      case 'POP_VIEW':\r\n         return {\r\n            ...state,\r\n            stack: state.stack.slice(0, state.stack.length - 1),\r\n         };\r\n      case 'PUSH_POPUP':\r\n         return {\r\n            ...state,\r\n            popupStack: state.popupStack.concat(action.popup),\r\n         };\r\n      case 'POP_POPUP':\r\n         return {\r\n            ...state,\r\n            popupStack: state.popupStack.slice(0, state.popupStack.length - 1),\r\n         };\r\n      default:\r\n         return state;\r\n   }\r\n};\r\n\r\nexport default viewReducer;\r\n","const initialState = {\r\n   data: {\r\n      artists: [],\r\n      albums: [],\r\n      playlists: {},\r\n      artistData: {},\r\n      albumData: {},\r\n   },\r\n};\r\n\r\nconst apiReducer = (state = initialState, action) => {\r\n   switch (action.type) {\r\n      case 'FETCH_ARTIST_LIST_SUCCESS':\r\n         return {\r\n            ...state,\r\n            data: {\r\n               ...state.data,\r\n               artists: action.artists,\r\n               artistData: action.artistData,\r\n            },\r\n         };\r\n      case 'FETCH_ARTIST_SUCCESS':\r\n         return {\r\n            ...state,\r\n            data: {\r\n               ...state.data,\r\n               artistData: {\r\n                  ...state.data.artistData,\r\n                  [action.name]: action.albums,\r\n               },\r\n               albumData: {\r\n                  ...state.data.albumData,\r\n                  ...action.albumData,\r\n               },\r\n            },\r\n         };\r\n      case 'FETCH_ALBUM_LIST_SUCCESS':\r\n         return {\r\n            ...state,\r\n            data: {\r\n               ...state.data,\r\n               albumData: {\r\n                  ...state.data.albumData,\r\n                  ...action.albumData,\r\n               },\r\n               albums: action.albums,\r\n            },\r\n         };\r\n      case 'FETCH_ALBUM_SUCCESS':\r\n         return {\r\n            ...state,\r\n            data: {\r\n               ...state.data,\r\n               albumData: {\r\n                  ...state.data.albumData,\r\n                  [action.album]: action.tracks,\r\n               },\r\n            },\r\n         };\r\n      case 'FETCH_PLAYLIST_LIST_SUCCESS':\r\n         return {\r\n            ...state,\r\n            data: {\r\n               ...state.data,\r\n               playlists: action.playlists,\r\n            },\r\n         };\r\n      case 'CREATE_PLAYLIST':\r\n         return {\r\n            ...state,\r\n            data: {\r\n               ...state.data,\r\n               playlists: action.playlists,\r\n            },\r\n         };\r\n      case 'UPDATE_PLAYLIST':\r\n         return {\r\n            ...state,\r\n            playlists: action.playlists,\r\n         };\r\n      default:\r\n         return state;\r\n   }\r\n};\r\n\r\nexport default apiReducer;\r\n","const initialState = {\r\n   isPlaying: false,\r\n   hasAudio: false,\r\n   currentIndex: 0,\r\n   playlist: [],\r\n   inQueue: false,\r\n   queue: [],\r\n   prevQueue: [],\r\n   time: {\r\n      current: null,\r\n      max: null\r\n   },\r\n   recents: localStorage.appleMusicRecents\r\n      ? JSON.parse(localStorage.appleMusicRecents)\r\n      : [],\r\n   volume: 0.5,\r\n};\r\n\r\nconst audioReducer = (state = initialState, action) => {\r\n   switch (action.type) {\r\n      case 'PLAY_SONG':\r\n         let recents = state.recents.filter(\r\n            (track, index) =>\r\n               track.album !== action.playlist[action.index].album && index < 7,\r\n         );\r\n         recents.splice(0, 0, action.playlist[action.index]);\r\n         localStorage.appleMusicRecents = JSON.stringify(recents);\r\n\r\n         return {\r\n            ...state,\r\n            isPlaying: true,\r\n            hasAudio: true,\r\n            playlist: action.playlist,\r\n            currentIndex: action.index,\r\n            recents,\r\n         };\r\n      case 'RESUME':\r\n         return {\r\n            ...state,\r\n            isPlaying: !!state.playlist.length || !!state.queue.length,\r\n         };\r\n      case 'PAUSE':\r\n         return {\r\n            ...state,\r\n            isPlaying: false,\r\n         };\r\n      case 'NEXT_SONG':\r\n         const newQueue = [...state.queue.slice(1, state.queue.length)];\r\n\r\n         return {\r\n            ...state,\r\n            hasAudio: state.currentIndex + 1 < state.playlist.length,\r\n            inQueue: state.queue.length,\r\n            queue: state.inQueue ? newQueue : state.queue,\r\n            isPlaying:\r\n               !!state.isPlaying &&\r\n               (state.currentIndex + 1 !== state.playlist.length ||\r\n                  !!state.queue.length),\r\n            currentIndex:\r\n               state.currentIndex +\r\n               (state.inQueue && state.queue.length ? 0 : 1),\r\n         };\r\n      case 'PREV_SONG':\r\n         return {\r\n            ...state,\r\n            inQueue: false,\r\n            queue: state.inQueue\r\n               ? [...state.queue.slice(1, state.queue.length)]\r\n               : state.queue,\r\n            currentIndex:\r\n               state.currentIndex > 0\r\n                  ? state.currentIndex - 1\r\n                  : state.currentIndex,\r\n         };\r\n      case 'ADD_TO_QUEUE':\r\n         return {\r\n            ...state,\r\n            hasAudio: true,\r\n            inQueue: !state.playlist.length,\r\n            prevQueue: state.queue,\r\n            queue: state.inQueue\r\n               ? [\r\n                    ...state.queue.slice(0, 1),\r\n                    action.track,\r\n                    ...state.queue.slice(2, state.length),\r\n                 ]\r\n               : [action.track, ...state.queue],\r\n            playlist: state.playlist,\r\n         };\r\n      case 'UPDATE_TIME':\r\n         return {\r\n         ...state,\r\n         time: {\r\n            ...action.info\r\n         }\r\n      }\r\n      case 'CHANGE_VOLUME':\r\n         return {\r\n            ...state,\r\n            volume: action.volume,\r\n         };\r\n      default:\r\n         return state;\r\n   }\r\n};\r\n\r\nexport default audioReducer;\r\n","const initialState = {\r\n   isFullscreen: false\r\n};\r\n\r\nconst navReducer = (state = initialState, action) => {\r\n   switch (action.type) {\r\n      case 'TOGGLE_FULLSCREEN':\r\n         return {\r\n            ...state,\r\n            isFullscreen: !state.isFullscreen\r\n         }\r\n      default:\r\n         return state;\r\n   }\r\n};\r\n\r\nexport default navReducer;\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { devToolsEnhancer } from 'redux-devtools-extension';\r\nimport viewReducer from './views/reducer';\r\nimport apiReducer from './api/reducer';\r\nimport audioReducer from './audio/reducer';\r\nimport navReducer from './components/bar/reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n   viewState: viewReducer,\r\n   apiState: apiReducer,\r\n   audioState: audioReducer,\r\n   navState: navReducer,\r\n});\r\n\r\nconst store = createStore(\r\n   rootReducer,\r\n   devToolsEnhancer(),\r\n   applyMiddleware(thunkMiddleware),\r\n);\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\nimport { Provider } from 'react-redux';\r\nimport store from './js/rootReducer';\r\n\r\nReactDOM.render(\r\n   <Provider store={store}>\r\n      <App />\r\n   </Provider>,\r\n   document.getElementById('root')\r\n);\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}